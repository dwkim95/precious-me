<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MIND DIVE - 마음 깊이 측정하기</title>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif;
            font-weight: 400;
            background: #000;
            color: #fff;
            letter-spacing: -0.02em;
            line-height: 1.7;
            position: relative;
        }

        /* 로딩 화면 */
        .loading-screen {
            position: fixed;
            width: 100%;
            height: 100vh;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: opacity 0.5s ease;
        }

        .loading-screen.hide {
            opacity: 0;
            pointer-events: none;
        }

        .loading-text {
            font-size: 1.2rem;
            color: #90e0ef;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        /* 바다 요소들 */
        .ocean-elements {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        /* 물방울 효과 */
        .bubble {
            position: absolute;
            bottom: -100px;
            background: radial-gradient(circle, rgba(255,255,255,0.08) 0%, transparent 70%);
            border-radius: 50%;
            animation: rise 12s infinite ease-in;
        }

        @keyframes rise {
            to {
                transform: translateY(-120vh);
                opacity: 0;
            }
        }

        /* 화면 관리 */
        .screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            display: none;
            opacity: 0;
            transition: opacity 1.2s ease;
            z-index: 10;
        }

        .screen.active {
            display: block;
            opacity: 1;
        }

        /* 중앙 정렬 화면 */
        .center-screen {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            padding: 20px;
        }

        /* 스크롤 가능한 화면 */
        .scroll-screen {
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            height: 100vh;
        }

        /* 진행 상태 표시 */
        .progress-container {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 30;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .progress-container.show {
            opacity: 1;
        }

        .progress-bar {
            width: 200px;
            height: 3px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #48cae4, #0077b6);
            transition: width 0.5s ease;
        }

        .progress-text {
            text-align: center;
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.6);
            margin-top: 8px;
        }

        /* 시작 화면 */
        #startScreen {
            background: linear-gradient(to bottom, #03045e 0%, #023e8a 50%, #0077b6 100%);
        }

        .start-content {
            text-align: center;
            max-width: 600px;
        }

        .logo {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            letter-spacing: -0.03em;
            background: linear-gradient(180deg, #90e0ef 0%, #0077b6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            font-size: 1.1rem;
            margin-bottom: 3rem;
            color: rgba(255, 255, 255, 0.8);
        }

        /* 인트로 화면 */
        #introScreen {
            background: linear-gradient(to bottom, #023e8a 0%, #0077b6 100%);
        }

        .intro-content {
            text-align: center;
            max-width: 750px;
        }

        .intro-title {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 2rem;
        }

        .intro-text {
            font-size: 1.15rem;
            line-height: 2.2;
            margin-bottom: 1.5rem;
            color: rgba(255, 255, 255, 0.9);
        }

        .emphasis {
            display: block;
            font-size: 1.3rem;
            margin: 2rem 0;
            color: #90e0ef;
            font-weight: 600;
        }

        /* 설문 화면 */
        #surveyScreen {
            background: linear-gradient(to bottom, #0096c7 0%, #00b4d8 100%);
        }

        .survey-content {
            text-align: center;
            max-width: 700px;
            width: 100%;
        }

        .question-header {
            margin-bottom: 2rem;
        }

        .question-depth {
            font-size: 0.9rem;
            color: #caf0f8;
            margin-bottom: 0.5rem;
            letter-spacing: 0.1em;
        }

        .question-title {
            font-size: 1.5rem;
            font-weight: 600;
            line-height: 1.8;
            word-break: keep-all;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .option-button {
            font-family: inherit;
            padding: 18px 25px;
            font-size: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            width: 100%;
            word-break: keep-all;
            line-height: 1.6;
        }

        .option-button:hover {
            background: rgba(255, 255, 255, 0.12);
            border-color: rgba(255, 255, 255, 0.4);
            transform: translateX(5px);
        }

        /* 쿠팡 화면 */
        #coupangScreen {
            background: linear-gradient(to bottom, #023e8a 0%, #0077b6 100%);
        }

        .coupang-content {
            text-align: center;
            max-width: 600px;
            padding: 0 20px;
        }

        .coupang-title {
            font-size: 1.8rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }

        .coupang-desc {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 2rem;
            color: rgba(255, 255, 255, 0.9);
        }

        .coupang-box {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .coupang-link {
            display: inline-block;
            background: #e74c3c;
            color: white;
            padding: 15px 40px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            margin: 1rem 0;
            transition: all 0.3s ease;
        }

        .coupang-link:hover {
            background: #c0392b;
            transform: translateY(-2px);
        }

        /* 결과 화면 */
        #resultScreen {
            background: linear-gradient(to bottom, #023e8a 0%, #03045e 100%);
        }

        .result-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px 80px;
        }

        .result-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .result-type {
            font-size: 2.2rem;
            font-weight: 700;
            color: #90e0ef;
            margin-bottom: 1rem;
            text-shadow: 0 0 30px rgba(144, 224, 239, 0.4);
            word-break: keep-all;
        }

        .personality-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 3rem 0;
        }

        .personality-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .card-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .card-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #90e0ef;
            margin-bottom: 0.5rem;
        }

        .card-description {
            font-size: 0.95rem;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.85);
            word-break: keep-all;
        }

        .detail-section {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            border-left: 4px solid #90e0ef;
        }

        .section-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #90e0ef;
            margin-bottom: 1.5rem;
        }

        .section-content {
            font-size: 1.05rem;
            line-height: 2;
            color: rgba(255, 255, 255, 0.85);
            word-break: keep-all;
        }

        /* 버튼 스타일 */
        .nav-button {
            font-family: inherit;
            padding: 16px 40px;
            font-size: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: #fff;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            letter-spacing: 0.02em;
            margin-top: 1.5rem;
            font-weight: 600;
        }

        .nav-button:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.5);
            transform: translateY(-2px);
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 2rem;
        }

        /* 모바일 */
        @media (max-width: 768px) {
            .logo { font-size: 2.8rem; }
            .question-title { font-size: 1.3rem; }
            .result-type { font-size: 1.8rem; }
            .personality-cards { grid-template-columns: 1fr; }
            .detail-section { padding: 1.5rem; }
            .action-buttons { flex-direction: column; }
            .nav-button { width: 100%; }
        }
    </style>
</head>
<body>
    <!-- 로딩 화면 -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-text">마음의 바다를 준비하고 있어요</div>
    </div>

    <!-- 바다 요소들 -->
    <div class="ocean-elements" id="oceanElements"></div>

    <!-- 진행 상태 표시 -->
    <div class="progress-container" id="progressContainer">
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill" style="width: 0%"></div>
        </div>
        <div class="progress-text" id="progressText">0 / 10</div>
    </div>

    <!-- 시작 화면 -->
    <div id="startScreen" class="screen active center-screen">
        <div class="start-content">
            <h1 class="logo">MIND DIVE</h1>
            <p class="subtitle">마음 깊이 측정하기</p>
            <button class="nav-button" onclick="goToIntro()">시작하기</button>
        </div>
    </div>

    <!-- 인트로 화면 -->
    <div id="introScreen" class="screen center-screen">
        <div class="intro-content">
            <h2 class="intro-title">요즘 많이 힘드시죠?</h2>
            <p class="intro-text">
                매일 반복되는 일상에 지쳐가고<br>
                사람들과의 관계에서 상처받고<br>
                나를 알아주는 사람이 없는 것 같고
            </p>
            <span class="emphasis">잠시 모든 걸 내려놓고 쉬어가도 괜찮아요</span>
            <p class="intro-text">
                지금부터 당신의 마음속을<br>
                천천히 들여다볼 거예요
            </p>
            <button class="nav-button" onclick="startSurvey()">준비됐어요</button>
        </div>
    </div>

    <!-- 설문 화면 -->
    <div id="surveyScreen" class="screen center-screen">
        <div class="survey-content">
            <div class="question-header">
                <div class="question-depth" id="questionDepth"></div>
                <div class="question-title" id="questionTitle"></div>
            </div>
            <div class="options" id="optionsContainer"></div>
        </div>
    </div>

    <!-- 쿠팡 화면 -->
    <div id="coupangScreen" class="screen center-screen">
        <div class="coupang-content">
            <h2 class="coupang-title">잠시만요!</h2>
            <p class="coupang-desc">
                결과를 보기 전에<br>
                마음의 안정을 위한 추천 상품들을<br>
                확인해보시겠어요?
            </p>
            <div class="coupang-box">
                <p style="margin-bottom: 1rem;">
                    스트레스 해소와 마음 치유를 위한<br>
                    특별한 아이템들을 준비했어요
                </p>
                <a href="https://link.coupang.com/a/bVXXXX" class="coupang-link" target="_blank">
                    추천 상품 보러가기
                </a>
                <p style="font-size: 0.8rem; color: rgba(255,255,255,0.6); margin-top: 1rem;">
                    * 쿠팡 파트너스 활동의 일환으로 수수료를 제공받을 수 있습니다
                </p>
            </div>
            <button class="nav-button" onclick="showResult()">결과 보러가기</button>
        </div>
    </div>

    <!-- 결과 화면 -->
    <div id="resultScreen" class="screen scroll-screen">
        <div class="result-container">
            <div class="result-header">
                <h2 class="result-type" id="resultType">심해의 진주</h2>
                <p id="resultSubtitle" style="color: rgba(255,255,255,0.7); margin-bottom: 2rem;">
                    가장 깊은 곳까지 내려간 내면의 탐험가
                </p>
            </div>

            <div class="personality-cards" id="personalityCards">
                <!-- 카드들이 동적으로 생성됨 -->
            </div>

            <div class="detail-section">
                <h3 class="section-title">🌊 당신의 마음 상태</h3>
                <div class="section-content" id="currentState">
                    <!-- 내용이 동적으로 채워짐 -->
                </div>
            </div>

            <div class="detail-section">
                <h3 class="section-title">💫 당신만의 특별함</h3>
                <div class="section-content" id="uniqueTraits">
                    <!-- 내용이 동적으로 채워짐 -->
                </div>
            </div>

            <div class="detail-section">
                <h3 class="section-title">💝 당신에게 전하는 메시지</h3>
                <div class="section-content" id="personalMessage">
                    <!-- 내용이 동적으로 채워짐 -->
                </div>
            </div>

            <div class="action-buttons">
                <button class="nav-button" onclick="restart()">다시 측정하기</button>
                <button class="nav-button" onclick="shareResult()">결과 공유하기</button>
            </div>
        </div>
    </div>

    <script>
        // 전역 변수
        let currentQuestion = 0;
        let answers = [];
        
        // 설문 데이터
        const surveyData = [
            {
                depth: "수심 10m",
                question: "월요일 아침, 출근길에 드는 생각은?",
                options: [
                    "오늘 하루도 무사히 지나가길",
                    "이번 주에는 뭔가 달라질 거야",
                    "또 똑같은 일주일이 시작되는구나",
                    "주말이 벌써 그리워"
                ]
            },
            {
                depth: "수심 20m",
                question: "친구가 갑자기 연락이 없어졌을 때",
                options: [
                    "내가 뭘 잘못했나 돌아봐요",
                    "바쁜가보다 하고 기다려요",
                    "서운하지만 먼저 연락해요",
                    "나도 굳이 연락 안 해요"
                ]
            },
            {
                depth: "수심 35m",
                question: "SNS에서 행복해 보이는 사람들을 볼 때",
                options: [
                    "나도 저렇게 살고 싶다",
                    "겉모습일 뿐이야",
                    "나는 왜 저렇지 못할까",
                    "그냥 스크롤 넘겨요"
                ]
            },
            {
                depth: "수심 50m",
                question: "중요한 선택을 앞두고 있을 때",
                options: [
                    "안전한 길을 선택해요",
                    "하고 싶은 걸 선택해요",
                    "주변 사람들 의견을 물어봐요",
                    "계속 고민만 하고 있어요"
                ]
            },
            {
                depth: "수심 70m",
                question: "일이 너무 많아서 버거울 때",
                options: [
                    "하나씩 차근차근 해결해요",
                    "도움을 요청해요",
                    "혼자 끙끙대며 해요",
                    "포기하고 싶어져요"
                ]
            },
            {
                depth: "수심 90m",
                question: "혼자 있는 금요일 밤",
                options: [
                    "나만의 시간을 즐겨요",
                    "누군가와 함께하고 싶어요",
                    "뭘 해야 할지 모르겠어요",
                    "그냥 일찍 자요"
                ]
            },
            {
                depth: "수심 110m",
                question: "5년 후 나의 모습을 상상할 때",
                options: [
                    "구체적인 계획이 있어요",
                    "막연히 더 나아지겠지",
                    "지금이랑 별로 다르지 않을 것 같아요",
                    "생각하기가 무서워요"
                ]
            },
            {
                depth: "수심 130m",
                question: "과거의 실수가 떠오를 때",
                options: [
                    "그때는 최선이었다고 생각해요",
                    "왜 그랬을까 후회해요",
                    "잊으려고 노력해요",
                    "여전히 그 생각에 갇혀있어요"
                ]
            },
            {
                depth: "수심 150m",
                question: "거울 속 나를 볼 때",
                options: [
                    "만족스러워요",
                    "더 나아질 수 있어요",
                    "낯설게 느껴져요",
                    "보고 싶지 않아요"
                ]
            },
            {
                depth: "수심 180m",
                question: "정말 힘든 날, 가장 먼저 떠오르는 것은?",
                options: [
                    "날 위로해줄 누군가",
                    "혼자만의 안전한 공간",
                    "모든 걸 그만두고 싶은 마음",
                    "내일은 나아질 거란 희망"
                ]
            }
        ];

        // 결과 데이터
        const resultTypes = {
            type1: {
                title: "심해의 진주",
                subtitle: "가장 깊은 곳까지 내려간 내면의 탐험가",
                cards: [
                    { icon: "🌌", title: "무한한 내면", desc: "당신의 마음은 우주처럼 넓고 깊어요. 남들이 놓치는 작은 의미들을 발견합니다." },
                    { icon: "💎", title: "압력의 보석", desc: "깊은 곳의 압력이 진주를 만들듯, 당신의 고민이 당신을 빛나게 만들어요." },
                    { icon: "🔮", title: "직관의 눈", desc: "논리를 넘어선 직관으로 본질을 꿰뚫어보는 능력이 있어요." }
                ],
                state: "당신은 지금 깊은 사색의 시기를 보내고 있어요. 겉으로는 잔잔해 보이지만, 내면에서는 수많은 질문과 대답이 오가고 있죠.",
                unique: "당신의 가장 특별한 점은 '깊이 있는 이해력'이에요. 복잡한 상황의 본질을 꿰뚫어보고, 말하지 않은 감정을 읽어내는 섬세함이 있어요.",
                message: "가장 깊은 바다까지 잠수한 당신에게, 당신의 깊이가 때로는 무거운 짐처럼 느껴질 수도 있어요. 하지만 이 세상에는 당신 같은 사람이 꼭 필요해요. 계속해서 깊이 잠수하세요. 당신은 이미 충분히 아름다운 진주예요."
            },
            type2: {
                title: "자유로운 돌고래",
                subtitle: "파도를 타며 춤추는 자유로운 영혼",
                cards: [
                    { icon: "🌈", title: "무지개 에너지", desc: "어떤 상황에서도 긍정적인 면을 찾아내는 당신은 주변에 활력을 전달해요." },
                    { icon: "🎪", title: "인생은 놀이터", desc: "새로운 경험을 두려워하지 않고 즐기는 모험가예요." },
                    { icon: "🤹", title: "균형의 달인", desc: "일과 놀이, 진지함과 유머 사이에서 절묘한 균형을 유지해요." }
                ],
                state: "당신은 지금 인생의 파도를 즐기며 살아가고 있어요. 이것은 얕다는 의미가 아니라, 삶을 있는 그대로 즐길 줄 안다는 뜻이에요.",
                unique: "당신의 가장 특별한 점은 '긍정의 마법사'라는 거예요. 어떤 상황도 즐겁게 만드는 유머 감각과 변화를 두려워하지 않는 모험심이 있어요.",
                message: "자유로운 돌고래 같은 당신에게, 당신의 웃음소리가 얼마나 많은 사람들을 구원했는지 아시나요? 계속해서 자유롭게 헤엄치세요. 당신의 물결이 세상을 더 아름답게 만들고 있어요."
            }
        };

        // 초기화
        window.onload = function() {
            setTimeout(() => {
                document.getElementById('loadingScreen').classList.add('hide');
                createBubbles();
            }, 1500);
        };

        // 물방울 생성
        function createBubbles() {
            setInterval(() => {
                const bubble = document.createElement('div');
                bubble.className = 'bubble';
                bubble.style.left = Math.random() * 100 + '%';
                bubble.style.width = bubble.style.height = Math.random() * 30 + 10 + 'px';
                bubble.style.animationDuration = Math.random() * 5 + 10 + 's';
                document.getElementById('oceanElements').appendChild(bubble);
                setTimeout(() => bubble.remove(), 15000);
            }, 2000);
        }

        // 화면 전환
        function showScreen(screenId) {
            const screens = document.querySelectorAll('.screen');
            screens.forEach(screen => {
                screen.classList.remove('active');
            });
            
            setTimeout(() => {
                document.getElementById(screenId).classList.add('active');
            }, 100);
        }

        // 인트로로 이동
        function goToIntro() {
            showScreen('introScreen');
        }

        // 설문 시작
        function startSurvey() {
            currentQuestion = 0;
            answers = [];
            document.getElementById('progressContainer').classList.add('show');
            showQuestion();
            showScreen('surveyScreen');
        }

        // 질문 표시
        function showQuestion() {
            const data = surveyData[currentQuestion];
            document.getElementById('questionDepth').textContent = data.depth;
            document.getElementById('questionTitle').textContent = data.question;
            
            const progress = ((currentQuestion + 1) / surveyData.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = `${currentQuestion + 1} / ${surveyData.length}`;
            
            const container = document.getElementById('optionsContainer');
            container.innerHTML = '';
            
            data.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'option-button';
                button.textContent = option;
                button.onclick = () => selectAnswer(index);
                container.appendChild(button);
            });
        }

        // 답변 선택
        function selectAnswer(index) {
            answers.push(index);
            
            if (currentQuestion < surveyData.length - 1) {
                currentQuestion++;
                showQuestion();
            } else {
                document.getElementById('progressContainer').classList.remove('show');
                showScreen('coupangScreen');
            }
        }

        // 결과 표시
        function showResult() {
            // 간단한 결과 계산 (답변 합계 기반)
            const sum = answers.reduce((a, b) => a + b, 0);
            const resultKey = sum < 20 ? 'type1' : 'type2';
            const result = resultTypes[resultKey];
            
            // 결과 화면 업데이트
            document.getElementById('resultType').textContent = result.title;
            document.getElementById('resultSubtitle').textContent = result.subtitle;
            
            // 성격 카드 생성
            const cardsContainer = document.getElementById('personalityCards');
            cardsContainer.innerHTML = '';
            result.cards.forEach(card => {
                const cardDiv = document.createElement('div');
                cardDiv.className = 'personality-card';
                cardDiv.innerHTML = `
                    <div class="card-icon">${card.icon}</div>
                    <div class="card-title">${card.title}</div>
                    <div class="card-description">${card.desc}</div>
                `;
                cardsContainer.appendChild(cardDiv);
            });
            
            // 상세 내용 업데이트
            document.getElementById('currentState').textContent = result.state;
            document.getElementById('uniqueTraits').textContent = result.unique;
            document.getElementById('personalMessage').textContent = result.message;
            
            showScreen('resultScreen');
        }

        // 다시 시작
        function restart() {
            currentQuestion = 0;
            answers = [];
            showScreen('startScreen');
        }

        // 결과 공유
        function shareResult() {
            const resultType = document.getElementById('resultType').textContent;
            const text = `나의 마음 유형은 "${resultType}"!\nMIND DIVE에서 당신의 마음 깊이도 측정해보세요.`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'MIND DIVE - 마음 깊이 측정 결과',
                    text: text,
                    url: window.location.href
                }).catch(err => console.log('공유 취소'));
            } else {
                navigator.clipboard.writeText(text + '\n' + window.location.href);
                alert('결과가 클립보드에 복사되었습니다!');
            }
        }
    </script>
</body>
</html>
