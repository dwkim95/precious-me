{
        id: 1,
        type: "choice",
        question: "ë°¤í•˜ëŠ˜ì˜ ë³„ì„ ë°”ë¼ë³¼ ë•Œ, ë‹¹ì‹ ì˜ ë§ˆìŒì— ê°€ì¥ ë¨¼ì € ìŠ¤ë©°ë“œëŠ” ê°ì •ì€?",
        description: "ë³„ë¹›ì´ ë‹¹ì‹ ì˜ ì˜í˜¼ì— ë‹¿ëŠ” ê·¸ ìˆœê°„ì„ ë– ì˜¬ë ¤ë³´ì„¸ìš”",
        options: [
          { text: "ë¬´í•œí•œ ìš°ì£¼ ì•ì—ì„œ ëŠë¼ëŠ” ê²½ì´ë¡œì›€ê³¼ ì „ìœ¨", keywords: ["ì˜í˜¼ì˜íƒí—˜ê°€", "ìš°ì£¼ì ê°ìˆ˜ì„±", "ê²½ì´ë¡œìš´ì‹œì„ "], weight: "cosmic_wonder" },
          { text: "ìì‹ ì˜ ì¡´ì¬ê°€ í•œì—†ì´ ì‘ê²Œ ëŠê»´ì§€ëŠ” ê²¸ì†í•¨", keywords: ["ì‹¬ì—°ì˜ì§€í˜œ", "ê²¸ì†í•œì˜í˜¼", "ì¡´ì¬ì ì„±ì°°"], weight: "humble_depth" },
          { text: "ì–´ë””ë¡ ê°€ ë– ë‚˜ê³  ì‹¶ì€ ììœ ë¡œìš´ ì¶©ë™", keywords: ["ë°”ëŒì˜ì•„ì´", "ë¬´í•œììœ ", "ë– ë‚¨ì˜ë¯¸í•™"], weight: "wandering_soul" },
          { text: "ê³ ìš”í•¨ ì†ì—ì„œ ì°¾ëŠ” ë§ˆìŒì˜ í‰í™”ë¡œì›€", keywords: ["ë‹¬ë¹›ëª…ìƒ", "ê³ ìš”í•œì¹˜ìœ ", "ë‚´ë©´ì˜ì •ì›"], weight: "serene_peace" }
        ]
      },
      {
        id: 2,
        type: "choice",
        question: "ì–´ë¦° ì‹œì ˆ, ë‹¹ì‹ ì´ ê°€ì¥ ì•ˆì „í•˜ë‹¤ê³  ëŠê¼ˆë˜ ìˆœê°„ì˜ í–¥ê¸°ë‚˜ ì†Œë¦¬ëŠ”?",
        description: "ê·¸ ê¸°ì–µ ì† ê°ê°ì´ ì§€ê¸ˆë„ ë‹¹ì‹ ì„ ì–´ë–»ê²Œ ìœ„ë¡œí•˜ëŠ”ì§€ ëŠê»´ë³´ì„¸ìš”",
        options: [
          { text: "ì—„ë§ˆì˜ í’ˆì—ì„œ ë§¡ì•˜ë˜ ë”°ëœ»í•œ í–¥ê³¼ ì‹¬ì¥ì†Œë¦¬", keywords: ["ëª¨ì„±ì˜í’ˆ", "ì›ì´ˆì ì•ˆì „", "ì‹¬ì¥ì˜ë¦¬ë“¬"], weight: "maternal_warmth" },
          { text: "ë¹„ ì˜¤ëŠ” ë‚  ì°½ê°€ì—ì„œ ë“¤ì—ˆë˜ ë¹—ì†Œë¦¬ì™€ ì±… ëƒ„ìƒˆ", keywords: ["ë¹—ì†Œë¦¬ì¹˜ìœ ", "ì±…ì˜ë§ˆë²•", "ì°½ê°€ì˜ê¿ˆ"], weight: "contemplative_solitude" },
          { text: "í• ë¨¸ë‹ˆ ì†ì—ì„œ í’ê¸°ë˜ ê½ƒí–¥ê¸°ì™€ ìì¥ê°€", keywords: ["ì„¸ëŒ€ì˜ì§€í˜œ", "ê½ƒí–¥ê¸°ê¸°ì–µ", "ìì¥ê°€ì˜ë§ˆë²•"], weight: "ancestral_comfort" },
          { text: "í˜¼ìë§Œì˜ ë¹„ë°€ê³µê°„ì—ì„œ ëŠê¼ˆë˜ ê³ ìš”í•¨", keywords: ["ë¹„ë°€ì˜ì„±", "í˜¼ìë§Œì˜ì„¸ê³„", "ê³ ë…ì˜ë‹¬ì½¤í•¨"], weight: "secret_sanctuary" }
        ]
      },
      {
        id: 3,
        type: "choice",
        question: "ë‹¹ì‹ ì´ ê°€ì¥ ê¹Šì´ ëª°ì…í•  ìˆ˜ ìˆëŠ” ìˆœê°„ì€ ì–¸ì œì¸ê°€ìš”?",
        description: "ì‹œê°„ì´ ë©ˆì¶˜ ë“¯ ëŠê»´ì§€ëŠ” ê·¸ ë§ˆë²•ê°™ì€ ìˆœê°„ë“¤",
        options: [
          { text: "ì°½ì‘ì´ë‚˜ ì˜ˆìˆ  ì‘ì—…ì— ì™„ì „íˆ ë¹ ì ¸ë“¤ ë•Œ", keywords: ["ì°½ì¡°ì˜ë¶ˆê½ƒ", "ì˜ˆìˆ í˜¼", "ì˜ê°ì˜ìˆœê°„"], weight: "creative_flow" },
          { text: "ì‚¬ë‘í•˜ëŠ” ì‚¬ëŒê³¼ ì§„ì†”í•œ ëŒ€í™”ë¥¼ ë‚˜ëˆŒ ë•Œ", keywords: ["ì˜í˜¼ì˜ëŒ€í™”", "ì§„ì‹¬ì˜êµë¥˜", "ë§ˆìŒì˜ê³µëª…"], weight: "deep_connection" },
          { text: "ìì—° ì†ì—ì„œ ê³ ìš”íˆ ì‚¬ìƒ‰ì— ì ê¸¸ ë•Œ", keywords: ["ìì—°ì˜ì†ì‚­ì„", "ì‚¬ìƒ‰ì˜ê¹Šì´", "ì˜ì êµê°"], weight: "nature_meditation" },
          { text: "ìƒˆë¡œìš´ ì§€ì‹ì„ íƒêµ¬í•˜ê³  ê¹¨ë‹¬ìŒì„ ì–»ì„ ë•Œ", keywords: ["ì§€ì‹ì˜íƒí—˜", "ê¹¨ë‹¬ìŒì˜ìˆœê°„", "í•™ë¬¸ì ì—´ì •"], weight: "intellectual_discovery" }
        ]
      },
      {
        id: 4,
        type: "text",
        question: "ì§€ê¸ˆê¹Œì§€ ë‹¹ì‹ ì„ ê°€ì¥ í¬ê²Œ ë³€í™”ì‹œí‚¨ í•œ ìˆœê°„ì´ ìˆë‹¤ë©´, ê·¸ë•Œì˜ ê°ì •ì„ í•œ ë¬¸ì¥ìœ¼ë¡œ í‘œí˜„í•´ì£¼ì„¸ìš”.",
        description: "ê·¸ ìˆœê°„ì´ ì§€ê¸ˆì˜ ë‹¹ì‹ ì—ê²Œ ì–´ë–¤ ì˜ë¯¸ì¸ì§€ ì§„ì†”í•˜ê²Œ ì ì–´ë³´ì„¸ìš”",
        keywords: ["ë³€í™”ì˜ìˆœê°„", "ì„±ì¥ì˜ê¸°ì–µ", "ì¸ìƒì „í™˜ì "],
        analysis_focus: "transformation_moment"
      },
      {
        id: 5,
        type: "choice",
        question: "ê¿ˆì†ì—ì„œ ìì£¼ ë‚˜íƒ€ë‚˜ëŠ” ê³µê°„ì´ë‚˜ ìƒí™©ì€?",
        description: "ë¬´ì˜ì‹ ê¹Šì€ ê³³ì—ì„œ ì˜¬ë¼ì˜¤ëŠ” ì´ë¯¸ì§€ë“¤ì˜ ì˜ë¯¸ë¥¼ íƒêµ¬í•´ë³´ì„¸ìš”",
        options: [
          { text: "ëì—†ì´ í¼ì³ì§„ ë°”ë‹¤ë‚˜ ë¬´í•œí•œ í•˜ëŠ˜", keywords: ["ë¬´í•œì˜ê¿ˆ", "ììœ ì˜ë°”ë‹¤", "í•˜ëŠ˜ì˜ì•„ì´"], weight: "infinite_expansion" },
          { text: "ë³µì¡í•œ ë¯¸ë¡œë‚˜ ì•Œ ìˆ˜ ì—†ëŠ” ê±´ë¬¼ë“¤", keywords: ["ë¯¸ë¡œì˜ì‹¬ë¦¬", "ë³µì¡ì„±íƒêµ¬", "ìˆ¨ê²¨ì§„ë¬¸"], weight: "complex_psyche" },
          { text: "ë”°ëœ»í•˜ê³  í¬ê·¼í•œ ì§‘ì´ë‚˜ ì•ˆì „í•œ ê³µê°„", keywords: ["ì•ˆì „ì˜ê¿ˆ", "í¬ê·¼í•œê·€í™˜", "ì§‘ì˜ì˜ë¯¸"], weight: "safe_haven" },
          { text: "ê¿ˆì„ ì˜ ê¸°ì–µí•˜ì§€ ëª»í•˜ê±°ë‚˜ í˜„ì‹¤ì ì¸ ê¿ˆ", keywords: ["í˜„ì‹¤ì˜ë¬´ê²Œ", "ì‹¤ìš©ì ì˜í˜¼", "ë•…ì˜ì•„ì´"], weight: "grounded_realism" }
        ]
      },
      {
        id: 6,
        type: "choice",
        question: "ê¹Šì€ ìƒì²˜ë¥¼ ë°›ì•˜ì„ ë•Œ, ë‹¹ì‹ ì˜ ë§ˆìŒì€ ì–´ë–¤ ìƒ‰ê¹”ê³¼ ì§ˆê°ì„ ê°–ë‚˜ìš”?",
        description: "ê³ í†µì˜ ìˆœê°„ì— ëŠë¼ëŠ” ë‹¹ì‹ ë§Œì˜ ê°ì •ì˜ ìƒ‰ì±„ì™€ ì´‰ê°",
        options: [
          { text: "ì§™ì€ ë°”ë‹¤ìƒ‰ - ê¹Šê³  ì°¨ê°€ìš´ ìŠ¬í””ì˜ ë¬´ê²Œ", keywords: ["ê¹Šì€ë°”ë‹¤", "ìŠ¬í””ì˜ë¬´ê²Œ", "ì¹¨ë¬µì˜ê¹Šì´"], weight: "deep_melancholy" },
          { text: "íšŒìƒ‰ ì•ˆê°œ - ëª¨ë“  ê²ƒì´ íë¦¿í•˜ê³  ë¬´ê¸°ë ¥í•¨", keywords: ["ì•ˆê°œì˜ë§ˆìŒ", "ë¬´ê¸°ë ¥ì˜íšŒìƒ‰", "íë¦°ì˜ì‹"], weight: "foggy_numbness" },
          { text: "ë¶‰ì€ ë¶ˆê½ƒ - ë¶„ë…¸ì™€ ê²©ì •ì´ íƒ€ì˜¤ë¦„", keywords: ["ë¶„ë…¸ì˜ë¶ˆê½ƒ", "ê²©ì •ì˜ë¶‰ìŒ", "ì—´ì •ì˜ì—­ì„¤"], weight: "fiery_passion" },
          { text: "ê²€ì€ êµ¬ë© - ë¹›ì´ ë‹¿ì§€ ì•ŠëŠ” ì™„ì „í•œ ì–´ë‘ ", keywords: ["ì–´ë‘ ì˜ê¹Šì´", "ì ˆë§ì˜ê²€ì •", "ì¹¨ë¬µì˜êµ¬ë©"], weight: "void_darkness" }
        ]
      },
      {
        id: 7,
        type: "choice",
        question: "í˜¼ìë§Œì˜ ì‹œê°„ì— ê°€ì¥ ìì£¼ ë– ì˜¬ë¦¬ëŠ” ìƒê°ì˜ ë°©í–¥ì€?",
        description: "ê³ ìš”í•œ ìˆœê°„ì— ë§ˆìŒ ê¹Šì€ ê³³ì—ì„œ ì˜¬ë¼ì˜¤ëŠ” ìƒê°ë“¤ì˜ íë¦„",
        options: [
          { text: "ì§€ë‚˜ê°„ ì‹œê°„ë“¤ê³¼ ê·¸ë•Œì˜ ê°ì •ë“¤ì„ ë˜ìƒˆê¹€", keywords: ["ì‹œê°„ì˜ê°•", "ì¶”ì–µì˜ë³´ì„", "ê³¼ê±°ì˜í–¥ìˆ˜"], weight: "nostalgic_reflection" },
          { text: "ì•ìœ¼ë¡œì˜ ê°€ëŠ¥ì„±ê³¼ ê¿ˆë“¤ì„ ê·¸ë ¤ë´„", keywords: ["ë¯¸ë˜ì˜ì”¨ì•—", "ê¿ˆì˜ì„¤ê³„ë„", "í¬ë§ì˜ì§€í‰"], weight: "future_dreaming" },
          { text: "í˜„ì¬ì˜ ë¬¸ì œë“¤ê³¼ í•´ê²°ë°©ë²•ì„ ëª¨ìƒ‰í•¨", keywords: ["í˜„ì‹¤ì˜í•´ë‹µ", "ë¬¸ì œì˜ì‹¤íƒ€ë˜", "ì‹¤ìš©ì ì§€í˜œ"], weight: "practical_solving" },
          { text: "ì¡´ì¬ì˜ ì˜ë¯¸ì™€ ì‚¶ì˜ ë³¸ì§ˆì„ íƒêµ¬í•¨", keywords: ["ì¡´ì¬ì˜ì§ˆë¬¸", "ì² í•™ì˜ê¸¸", "ì˜ë¯¸ì˜íƒêµ¬"], weight: "existential_inquiry" }
        ]
      },
      {
        id: 8,
        type: "text",
        question: "ë‹¹ì‹ ì—ê²Œ 'ìš©ì„œ'ë€ ë¬´ì—‡ì¸ê°€ìš”? í•œ ë¬¸ì¥ìœ¼ë¡œ ì •ì˜í•´ì£¼ì„¸ìš”.",
        description: "ìš©ì„œì— ëŒ€í•œ ë‹¹ì‹ ë§Œì˜ ì² í•™ì„ ì§„ì†”í•˜ê²Œ í‘œí˜„í•´ë³´ì„¸ìš”",
        keywords: ["ìš©ì„œì˜ì² í•™", "ì¹˜ìœ ì˜ì§€í˜œ", "ë§ˆìŒì˜ììœ "],
        analysis_focus: "forgiveness_philosophy"
      },
      {
        id: 9,
        type: "choice",
        question: "ë‹¹ì‹ ì´ ê°€ì¥ ê¹Šì´ ë‘ë ¤ì›Œí•˜ëŠ” ê²ƒì€ ë¬´ì—‡ì¸ê°€ìš”?",
        description: "ë§ˆìŒ ê¹Šì€ ê³³ì— ìˆ¨ì–´ìˆëŠ” ê·¼ë³¸ì ì¸ ë‘ë ¤ì›€ì„ ë§ˆì£¼í•´ë³´ì„¸ìš”",
        options: [
          { text: "ì‚¬ë‘í•˜ëŠ” ì‚¬ëŒë“¤ê³¼ì˜ ì˜ì›í•œ ì´ë³„", keywords: ["ì´ë³„ì˜ê³µí¬", "ì‚¬ë‘ì˜ìƒì‹¤", "ì˜ì›í•œì‘ë³„"], weight: "separation_fear" },
          { text: "ìì‹ ì˜ ì§„ì •í•œ ê°€ëŠ¥ì„±ì„ ë°œê²¬í•˜ì§€ ëª»í•˜ëŠ” ê²ƒ", keywords: ["ì ì¬ë ¥ì˜ë¬˜ì§€", "ë¯¸ì™„ì„±ì˜ì¸ìƒ", "ê°€ëŠ¥ì„±ì˜ìƒì‹¤"], weight: "unfulfilled_potential" },
          { text: "ì™„ì „íˆ í˜¼ìê°€ ë˜ì–´ ë²„ë ¤ì§€ëŠ” ê²ƒ", keywords: ["ê³ ë…ì˜ì‹¬ì—°", "ë²„ë¦¼ë°›ìŒ", "ì¡´ì¬ì˜ì†Œê±°"], weight: "ultimate_abandonment" },
          { text: "ëª¨ë“  í†µì œë ¥ì„ ìƒê³  ë¬´ë ¥í•´ì§€ëŠ” ê²ƒ", keywords: ["í†µì œì˜ìƒì‹¤", "ë¬´ë ¥ê°ì˜ëŠª", "ì¹´ì˜¤ìŠ¤ì˜ê³µí¬"], weight: "loss_of_control" }
        ]
      },
      {
        id: 10,
        type: "choice",
        question: "ë§ˆì§€ë§‰ìœ¼ë¡œ, ì§€ê¸ˆ ì´ ìˆœê°„ ë‹¹ì‹ ì˜ ë§ˆìŒì´ ê°€ì¥ ê°„ì ˆíˆ ì›í•˜ëŠ” ê²ƒì€?",
        description: "ì†”ì§í•œ ë§ˆìŒìœ¼ë¡œ í˜„ì¬ ê°€ì¥ í•„ìš”ë¡œ í•˜ëŠ” ê²ƒì„ ì„ íƒí•´ì£¼ì„¸ìš”",
        options: [
          { text: "ì§„ì •í•œ ì´í•´ì™€ ê¹Šì€ ê³µê°ì„ ë°›ëŠ” ê²ƒ", keywords: ["ì˜í˜¼ì˜ê³µê°", "ì§„ì •í•œì´í•´", "ë§ˆìŒì˜ê³µëª…"], weight: "deep_understanding" },
          { text: "ë‚´ë©´ì˜ í‰í™”ì™€ ë§ˆìŒì˜ ì•ˆì •ì„ ì°¾ëŠ” ê²ƒ", keywords: ["ë‚´ë©´í‰í™”", "ë§ˆìŒì˜ì•ˆì‹", "ì˜í˜¼ì˜íœ´ì‹"], weight: "inner_peace" },
          { text: "ìƒˆë¡œìš´ ë„ì „ê³¼ ì„±ì¥ì˜ ê¸°íšŒë¥¼ ë§Œë‚˜ëŠ” ê²ƒ", keywords: ["ì„±ì¥ì˜ê¸°íšŒ", "ë„ì „ì˜ìš©ê¸°", "ìƒˆë¡œìš´ì‹œì‘"], weight: "growth_opportunity" },
          { text: "ìì‹ ë§Œì˜ íŠ¹ë³„í•œ ì˜ë¯¸ì™€ ëª©ì ì„ ë°œê²¬í•˜ëŠ” ê²ƒ", keywords: ["ì‚¶ì˜ëª©ì ", "ì¡´ì¬ì˜ì˜ë¯¸", "ë‚˜ë§Œì˜ê¸¸"], weight: "life_purpose" }
        ]
      }
    ];

    // ì„¤ë¬¸ì¡°ì‚¬ ìƒíƒœ ê´€ë¦¬
    let currentQuestionIndex = 0;
    let answers = {};
    let userKeywords = [];
    let personalityWeights = {
      cosmic_wonder: 0, humble_depth: 0, wandering_soul: 0, serene_peace: 0,
      maternal_warmth: 0, contemplative_solitude: 0, ancestral_comfort: 0, secret_sanctuary: 0,
      creative_flow: 0, deep_connection: 0, nature_meditation: 0, intellectual_discovery: 0,
      infinite_expansion: 0, complex_psyche: 0, safe_haven: 0, grounded_realism: 0,
      deep_melancholy: 0, foggy_numbness: 0, fiery_passion: 0, void_darkness: 0,
      nostalgic_reflection: 0, future_dreaming: 0, practical_solving: 0, existential_inquiry: 0,
      separation_fear: 0, unfulfilled_potential: 0, ultimate_abandonment: 0, loss_of_control: 0,
      deep_understanding: 0, inner_peace: 0, growth_opportunity: 0, life_purpose: 0
    };

    // DOM ìš”ì†Œë“¤
    const questionNumber = document.getElementById('question-number');
    const questionBox = document.getElementById('question-box');
    const questionDescription = document.getElementById('question-description');
    const answerBox = document.getElementById('answer-box');
    const progressFill = document.getElementById('progress-fill');
    const progressText = document.getElementById('progress-text');

    // ì´ˆê¸°í™”
    function init() {
      showQuestion(0);
    }

    // ì§ˆë¬¸ í‘œì‹œ
    function showQuestion(index) {
      const question = questions[index];
      
      // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
      const progress = ((index) / questions.length) * 100;
      progressFill.style.width = `${progress}%`;
      progressText.textContent = `${index}/${questions.length} - ${Math.round(progress)}% ì™„ë£Œ`;

      // ì§ˆë¬¸ ë‚´ìš© í‘œì‹œ
      questionNumber.textContent = `ì§ˆë¬¸ ${index + 1}`;
      questionBox.textContent = question.question;
      questionDescription.textContent = question.description;

      // ë‹µë³€ ì˜ì—­ ìƒì„±
      answerBox.innerHTML = '';

      if (question.type === 'choice') {
        createChoiceQuestion(question);
      } else if (question.type === 'text') {
        createTextQuestion(question);
      }

      // ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ ìƒì„±
      createNavigation();
    }

    // ì„ íƒí˜• ì§ˆë¬¸ ìƒì„±
    function createChoiceQuestion(question) {
      const optionsContainer = document.createElement('div');
      optionsContainer.className = 'choice-options';

      question.options.forEach((option, index) => {
        const optionElement = document.createElement('div');
        optionElement.className = 'choice-option';
        optionElement.innerHTML = `<div class="option-text">${option.text}</div>`;
        
        optionElement.addEventListener('click', () => {
          // ì´ì „ ì„ íƒ í•´ì œ
          document.querySelectorAll('.choice-option').forEach(el => el.classList.remove('selected'));
          // í˜„ì¬ ì„ íƒ í‘œì‹œ
          optionElement.classList.add('selected');
          
          // ë‹µë³€ ì €ì¥
          answers[question.id] = {
            type: 'choice',
            answer: option.text,
            keywords: option.keywords,
            weight: option.weight
          };
          
          // í‚¤ì›Œë“œ ë° ê°€ì¤‘ì¹˜ ìˆ˜ì§‘
          userKeywords.push(...option.keywords);
          if (option.weight) {
            personalityWeights[option.weight] += 1;
          }
        });

        optionsContainer.appendChild(optionElement);
      });

      answerBox.appendChild(optionsContainer);
    }

    // ì£¼ê´€ì‹ ì§ˆë¬¸ ìƒì„±
    function createTextQuestion(question) {
      const container = document.createElement('div');
      container.className = 'text-input-container';
      
      const textarea = document.createElement('textarea');
      textarea.placeholder = 'ë‹¹ì‹ ì˜ ì§„ì†”í•œ ì´ì•¼ê¸°ë¥¼ ë“¤ë ¤ì£¼ì„¸ìš”...';
      textarea.addEventListener('input', () => {
        answers[question.id] = {
          type: 'text',
          answer: textarea.value,
          keywords: question.keywords,
          analysis_focus: question.analysis_focus
        };
        
        if (textarea.value.trim()) {
          userKeywords.push(...question.keywords);
        }
      });

      container.appendChild(textarea);
      answerBox.appendChild(container);
    }

    // ë„¤ë¹„ê²Œì´ì…˜ ìƒì„±
    function createNavigation() {
      const navigation = document.createElement('div');
      navigation.className = 'navigation';

      // ì´ì „ ë²„íŠ¼
      if (currentQuestionIndex > 0) {
        const prevBtn = document.createElement('button');
        prevBtn.className = 'btn btn-secondary';
        prevBtn.textContent = 'ì´ì „';
        prevBtn.addEventListener('click', () => {
          currentQuestionIndex--;
          showQuestion(currentQuestionIndex);
        });
        navigation.appendChild(prevBtn);
      } else {
        navigation.appendChild(document.createElement('div'));
      }

      // ë‹¤ìŒ/ì™„ë£Œ ë²„íŠ¼
      const nextBtn = document.createElement('button');
      nextBtn.className = 'btn';
      
      if (currentQuestionIndex < questions.length - 1) {
        nextBtn.textContent = 'ë‹¤ìŒ';
        nextBtn.addEventListener('click', () => {
          if (answers[questions[currentQuestionIndex].id]) {
            currentQuestionIndex++;
            showQuestion(currentQuestionIndex);
          } else {
            alert('ë‹µë³€ì„ ì„ íƒí•˜ê±°ë‚˜ ì…ë ¥í•´ì£¼ì„¸ìš”.');
          }
        });
      } else {
        nextBtn.textContent = 'ë‚˜ë§Œì˜ ë§ˆìŒ ë¶„ì„ ë°›ê¸°';
        nextBtn.addEventListener('click', () => {
          if (answers[questions[currentQuestionIndex].id]) {
            showLoading();
          } else {
            alert('ë‹µë³€ì„ ì„ íƒí•˜ê±°ë‚˜ ì…ë ¥í•´ì£¼ì„¸ìš”.');
          }
        });
      }

      navigation.appendChild(nextBtn);
      answerBox.appendChild(navigation);
    }

    // ë¡œë”© í™”ë©´
    function showLoading() {
      const content = document.querySelector('.content');
      content.innerHTML = `
        <div class="loading-screen">
          <div class="loading-animation">
            <div class="loading-circle"></div>
            <div class="loading-inner"></div>
          </div>
          <div class="loading-text">ë‹¹ì‹ ë§Œì˜ ë§ˆìŒ ì´ì•¼ê¸°ë¥¼ ì°½ì¡°í•˜ê³  ìˆìŠµë‹ˆë‹¤</div>
          <div class="loading-subtext">
            AIê°€ ë‹¹ì‹ ì˜ ë‹µë³€ì„ ì„¬ì„¸í•˜ê²Œ ë¶„ì„í•˜ê³ <br>
            ê°œì¸í™”ëœ ê²°ê³¼ë¥¼ ë§Œë“¤ì–´ë“œë ¤ìš”
            <span class="loading-dots">
              <span class="loading-dot"></span>
              <span class="loading-dot"></span>
              <span class="loading-dot"></span>
            </span>
          </div>
        </div>
      `;

      // 4ì´ˆ í›„ ê²°ê³¼ í‘œì‹œ (AI ë¶„ì„ ì‹œë®¬ë ˆì´ì…˜)
      setTimeout(() => {
        showResults();
      }, 4000);
    }

    // AI ê¸°ë°˜ ê°œì¸í™” ë¶„ì„ ë° ê²°ê³¼ í‘œì‹œ
    function showResults() {
      const analysis = generatePersonalizedAnalysis();
      const content = document.querySelector('.content');
      
      content.innerHTML = `
        <div class="result-container">
          <div class="result-header">
            <h2 class="result-title">${analysis.title}</h2>
            <p class="result-metaphor">"${analysis.metaphor}"</p>
          </div>

          <div class="analysis-section">
            <h3>ğŸŒŸ ë‹¹ì‹ ì˜ ë§ˆìŒ í’ê²½</h3>
            <div class="analysis-content">${analysis.mindscape}</div>
            <div class="keywords-container">
              ${analysis.topKeywords.map(keyword => `<span class="keyword">${keyword}</span>`).join('')}
            </div>
          </div>

          <div class="analysis-section">
            <h3>ğŸ’­ ì˜í˜¼ì˜ ê¹Šì€ ì´ì•¼ê¸°</h3>
            <div class="analysis-content">${analysis.deepAnalysis}</div>
          </div>

          <div class="analysis-section">
            <h3>ğŸŒ± ì„±ì¥ì˜ ë‚˜ì¹¨ë°˜</h3>
            <div class="analysis-content">${analysis.growthGuidance}</div>
          </div>

          <div class="comfort-message">
            <h4>ğŸ’ ë‹¹ì‹ ì—ê²Œë§Œ ì „í•˜ëŠ” íŠ¹ë³„í•œ ë©”ì‹œì§€</h4>
            <div class="comfort-content">${analysis.personalMessage}</div>
          </div>

          <div class="share-section">
            <h4>ğŸŒˆ ì†Œì¤‘í•œ ë§ˆìŒ ì´ì•¼ê¸° ë‚˜ëˆ„ê¸°</h4>
            <p>ì´ íŠ¹ë³„í•œ ì—¬ì •ì„ ì†Œì¤‘í•œ ì‚¬ëŒë“¤ê³¼ í•¨ê»˜ ë‚˜ëˆ„ì–´ë³´ì„¸ìš”</p>
            <div class="share-buttons">
              <button class="btn kakao-btn" onclick="shareToKakao()">ğŸ“± ì¹´ì¹´ì˜¤í†¡ ê³µìœ </button>
              <button class="btn" onclick="downloadPDF()">ğŸ“„ PDF ì €ì¥</button>
              <button class="btn btn-secondary" onclick="restartSurvey()">ğŸ”„ ë‹¤ì‹œ ì§„ë‹¨ë°›ê¸°</button>
            </div>
          </div>
        </div>
      `;
    }

    // AI ê¸°ë°˜ ê°œì¸í™” ë¶„ì„ ìƒì„±
    function generatePersonalizedAnalysis() {
      // ê°€ì¥ ë†’ì€ ê°€ì¤‘ì¹˜ë¥¼ ê°€ì§„ ì„±ê²© íŠ¹ì„± ì°¾ê¸°
      const dominantTrait = Object.keys(personalityWeights).reduce((a, b) => 
        personalityWeights[a] > personalityWeights[b] ? a : b
      );

      // í‚¤ì›Œë“œ ë¹ˆë„ ê³„ì‚°
      const keywordCount = {};
      userKeywords.forEach(keyword => {
        keywordCount[keyword] = (keywordCount[keyword] || 0) + 1;
      });

      const topKeywords = Object.entries(keywordCount)
        .sort(([,a], [,b]) => b - a)
        .slice(0, 6)
        .map(([keyword]) => keyword);

      // ì£¼ê´€ì‹ ë‹µë³€ë“¤ ìˆ˜ì§‘
      const textAnswers = Object.values(answers)
        .filter(answer => answer.type === 'text')
        .map(answer => answer.answer);

      // ì„±ê²© ìœ í˜•ë³„ ê°œì¸í™”ëœ ë¶„ì„ - AI ê¸°ë°˜ìœ¼ë¡œ ì£¼ê´€ì‹ ë‚´ìš© ë°˜ì˜
      return generatePersonalizedContent(dominantTrait, topKeywords, textAnswers);
    }

    // ì„±ê²© ìœ í˜•ë³„ ê°œì¸í™”ëœ ì½˜í…ì¸  ìƒì„± (ë¬¸í•™ì  ê°ìˆ˜ì„± ê°•í™”)
    function generatePersonalizedContent(dominantTrait, keywords, textAnswers) {
      const personalityTypes = {
        cosmic_wonder: {
          title: "ë³„ë“¤ ì‚¬ì´ë¥¼ ê±·ëŠ” ì˜í˜¼ì˜ íƒí—˜ê°€",
          metaphor: "ìš°ì£¼ì˜ ë¹„ë°€ì„ í’ˆê³  ì€í•˜ìˆ˜ë¥¼ ê±´ë„ˆëŠ” ê³ ë…í•œ ì—¬í–‰ì",
          mindscape: `ë‹¹ì‹ ì˜ ë§ˆìŒì€ ê´‘í™œí•œ ìš°ì£¼ì™€ ê°™ìŠµë‹ˆë‹¤. ${extractPersonalElement(textAnswers, 'ë³€í™”')} ê²½ì´ë¡œì›€ìœ¼ë¡œ ê°€ë“ ì°¬ ë‹¹ì‹ ì˜ ë‚´ë©´ì€ í‰ë²”í•œ ì¼ìƒì—ì„œë„ ìˆ¨ê²¨ì§„ ê¸°ì ì„ ë°œê²¬í•˜ëŠ” íŠ¹ë³„í•œ ëŠ¥ë ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ë³„ë¹›ì²˜ëŸ¼ ë°˜ì§ì´ëŠ” í˜¸ê¸°ì‹¬ì€ ë‹¹ì‹ ì„ ëŠì„ì—†ëŠ” íƒêµ¬ì˜ ì—¬ì •ìœ¼ë¡œ ì´ëŒë©°, ê·¸ ê³¼ì •ì—ì„œ ë‹¤ë¥¸ ì´ë“¤ì´ ë³´ì§€ ëª»í•˜ëŠ” ì•„ë¦„ë‹¤ìš´ ì§„ì‹¤ë“¤ì„ ë°œê²¬í•˜ê²Œ ë©ë‹ˆë‹¤.`,
          deepAnalysis: `ë‹¹ì‹ ì€ ë³¸ì§ˆì ìœ¼ë¡œ ì‹œì¸ì´ì ì² í•™ìì˜ ì˜í˜¼ì„ ê°€ì§„ ì‚¬ëŒì…ë‹ˆë‹¤. ${extractPersonalElement(textAnswers, 'ìš©ì„œ')} í‘œë©´ì ì¸ í˜„ìƒì— ë§Œì¡±í•˜ì§€ ì•Šê³  ëŠ˜ ë” ê¹Šì€ ì˜ë¯¸ë¥¼ ì°¾ìœ¼ë ¤ í•˜ë©°, ì´ëŸ¬í•œ ì„±í–¥ì€ ë•Œë¡œ ì™¸ë¡œì›€ì„ ê°€ì ¸ë‹¤ì£¼ê¸°ë„ í•˜ì§€ë§Œ ë™ì‹œì— ì‚¶ì„ ë¬´í•œíˆ í’ìš”ë¡­ê²Œ ë§Œë“¤ì–´ì£¼ëŠ” ì„ ë¬¼ì´ê¸°ë„ í•©ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ì‚¬ê³ ëŠ” ì„ í˜•ì ì´ì§€ ì•Šê³  ë‚˜ì„ í˜•ì„ ê·¸ë¦¬ë©°, ë§ˆì¹˜ ìš°ì£¼ì˜ íŒ½ì°½ì²˜ëŸ¼ ê³„ì†í•´ì„œ ìƒˆë¡œìš´ ì°¨ì›ìœ¼ë¡œ í™•ì¥ë˜ì–´ ê°‘ë‹ˆë‹¤.`,
          growthGuidance: `ë‹¹ì‹ ì˜ ìš°ì£¼ì  ì‚¬ê³ ëŠ” ë†€ë¼ìš´ ìì‚°ì´ì§€ë§Œ, ë•Œë¡œëŠ” ì§€êµ¬ì˜ ì¤‘ë ¥ë„ í•„ìš”í•©ë‹ˆë‹¤. ë†’ì€ ì´ìƒì„ ì¶”êµ¬í•˜ë˜ í˜„ì‹¤ê³¼ì˜ ë‹¤ë¦¬ë¥¼ ë†“ëŠ” ê²ƒì„ ë‘ë ¤ì›Œí•˜ì§€ ë§ˆì„¸ìš”. ë‹¹ì‹ ì´ ë°œê²¬í•œ ë³„ë¹› ê°™ì€ í†µì°°ë“¤ì„ ë‹¤ë¥¸ ì´ë“¤ê³¼ ë‚˜ëˆ„ëŠ” ê²ƒì´ì•¼ë§ë¡œ ì§„ì •í•œ ìš°ì£¼ì  ì‚¬ëª…ì¼ì§€ë„ ëª¨ë¦…ë‹ˆë‹¤. ê³ ë… ì†ì—ì„œ ì–»ì€ ì§€í˜œë¥¼ ì„¸ìƒê³¼ ì—°ê²°ì‹œí‚¤ëŠ” ë²ˆì—­ê°€ê°€ ë˜ì–´ë³´ì„¸ìš”.`,
          personalMessage: `${extractPersonalQuote(textAnswers)} ë³„ì„ ë°”ë¼ë³´ë©° ê¿ˆê¾¸ëŠ” ë‹¹ì‹ ì„ ë°”ë¼ë³´ë‹ˆ, ì¸ê°„ì´ë¼ëŠ” ì¡´ì¬ê°€ ì–¼ë§ˆë‚˜ ì‹ ë¹„ë¡œìš´ì§€ ìƒˆì‚¼ ê¹¨ë‹«ê²Œ ë©ë‹ˆë‹¤. ë‹¹ì‹ ì˜ í˜¸ê¸°ì‹¬ ì–´ë¦° ëˆˆë¹›ì€ ì´ ì„¸ìƒì— ë§ˆë²•ì„ ë¶ˆì–´ë„£ê³ , ë‹¹ì‹ ì´ ë˜ì§€ëŠ” ì§ˆë¬¸ë“¤ì€ ë§ì€ ì´ë“¤ì˜ ì˜í˜¼ì— ì‘ì€ ìš°ì£¼ë¥¼ ì—´ì–´ì¤ë‹ˆë‹¤. ë•Œë¡œëŠ” í˜¼ìë¼ê³  ëŠë¼ì‹¤ ìˆ˜ë„ ìˆê² ì§€ë§Œ, ì§„ì •í•œ íƒí—˜ê°€ëŠ” ì–¸ì œë‚˜ ë¯¸ì§€ì˜ ì˜ì—­ì—ì„œ ë¹›ì„ ë°œê²¬í•˜ëŠ” ë²•ì…ë‹ˆë‹¤. ë‹¹ì‹ ì€ ì´ë¯¸ ì¶©ë¶„íˆ ë¹›ë‚˜ê³  ìˆì–´ìš”.`
        },
        humble_depth: {
          title: "ì§€í˜œì˜ ë°”ë‹¤ì— ì ê¸´ ì¡°ìš©í•œ í˜„ì",
          metaphor: "ê¹Šì€ ë°”ë‹¤ ë°‘ì—ì„œ ì§„ì£¼ë¥¼ í‚¤ìš°ë©° ì¹¨ë¬µìœ¼ë¡œ ë§í•˜ëŠ” ì˜í˜¼",
          mindscape: `ë‹¹ì‹ ì˜ ë§ˆìŒì€ ê¹Šê³  ì¡°ìš©í•œ ë°”ë‹¤ì˜ ì‹¬ì—°ê³¼ ê°™ìŠµë‹ˆë‹¤. ${extractPersonalElement(textAnswers, 'ë³€í™”')} ê²¸ì†í•¨ìœ¼ë¡œ ë¬´ì¥í•œ ë‹¹ì‹ ì˜ ë‚´ë©´ì€ ì†Œë€ìŠ¤ëŸ¬ìš´ ì„¸ìƒ ì†ì—ì„œë„ ê³ ìš”í•œ ì¤‘ì‹¬ì„ ìƒì§€ ì•Šìœ¼ë©°, ì§„ì •í•œ ì§€í˜œê°€ ë¬´ì—‡ì¸ì§€ë¥¼ ì²´ë“í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë‹¹ì‹ ì˜ ì¹¨ë¬µì€ ê³µí—ˆí•œ ê²ƒì´ ì•„ë‹ˆë¼ ê¹Šì€ ì„±ì°°ë¡œ ê°€ë“ ì°¬ í™©ê¸ˆê°™ì€ ê³ ìš”í•¨ì…ë‹ˆë‹¤.`,
          deepAnalysis: `ë‹¹ì‹ ì€ 'ì•„ëŠ” ê²ƒ'ì˜ í•œê³„ë¥¼ ì•„ëŠ” ì§„ì •í•œ ì§€í˜œìì…ë‹ˆë‹¤. ${extractPersonalElement(textAnswers, 'ìš©ì„œ')} ìì‹ ì˜ ì‘ìŒì„ ì¸ì •í•˜ê¸° ë•Œë¬¸ì— ì˜¤íˆë ¤ ë” í° ì„¸ìƒì„ ë³¼ ìˆ˜ ìˆê³ , ê²¸ì†í•¨ì´ë¼ëŠ” ë Œì¦ˆë¥¼ í†µí•´ ì‚¶ì˜ ì§„ì‹¤ì„ ë”ìš± ì„ ëª…í•˜ê²Œ ë°”ë¼ë´…ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ì¡´ì¬ ìì²´ê°€ ì£¼ë³€ ì‚¬ëŒë“¤ì—ê²ŒëŠ” í•˜ë‚˜ì˜ ì•ˆì‹ì²˜ê°€ ë˜ë©°, ë§í•˜ì§€ ì•Šì•„ë„ ì „í•´ì§€ëŠ” ë”°ëœ»í•¨ì„ í’ˆê³  ìˆìŠµë‹ˆë‹¤.`,
          growthGuidance: `ë‹¹ì‹ ì˜ ê²¸ì†í•¨ì€ ì•„ë¦„ë‹¤ìš´ ë•ëª©ì´ì§€ë§Œ, ë•Œë¡œëŠ” ìì‹ ì˜ ë¹›ì„ ë” ë‹¹ë‹¹í•˜ê²Œ ë“œëŸ¬ë‚´ëŠ” ìš©ê¸°ë„ í•„ìš”í•©ë‹ˆë‹¤. ìŠ¤ìŠ¤ë¡œë¥¼ ê³¼ì†Œí‰ê°€í•˜ì§€ ë§ˆì‹œê³ , ë‹¹ì‹ ì˜ ì¡°ìš©í•œ ì§€í˜œê°€ ì´ ì„¸ìƒì— ì–¼ë§ˆë‚˜ ì†Œì¤‘í•œ ê¸°ì—¬ë¥¼ í•˜ê³  ìˆëŠ”ì§€ ì¸ì‹í•´ ì£¼ì„¸ìš”. ê¹Šì€ ë°”ë‹¤ë„ ë•Œë¡œëŠ” íŒŒë„ë¥¼ ì¼ìœ¼ì¼œ ê·¸ ì¡´ì¬ë¥¼ ì•Œë¦¬ëŠ” ë²•ì…ë‹ˆë‹¤.`,
          personalMessage: `${extractPersonalQuote(textAnswers)} ì¡°ìš©íˆ ë¹›ë‚˜ëŠ” ë‹¹ì‹ ì˜ ëª¨ìŠµì—ì„œ ì§„ì •í•œ ì•„ë¦„ë‹¤ì›€ì´ë€ ë¬´ì—‡ì¸ì§€ ë°°ìš°ê²Œ ë©ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ê²¸ì†í•¨ê³¼ ê¹Šì´ ìˆëŠ” ì„±ì°°ì€ ì´ ì‹œë„ëŸ¬ìš´ ì„¸ìƒì—ì„œ ì°¾ê¸° ì–´ë ¤ìš´ ë³´ë¬¼ê³¼ ê°™ìŠµë‹ˆë‹¤. ìŠ¤ìŠ¤ë¡œë¥¼ ì‘ë‹¤ê³  ì—¬ê¸°ì§€ ë§ˆì„¸ìš”. ë°”ë‹¤ì˜ ê¹Šì´ëŠ” í‘œë©´ì˜ ë„“ì´ë³´ë‹¤ í›¨ì”¬ ë” ì‹ ë¹„ë¡­ê³  ì†Œì¤‘í•˜ë‹ˆê¹Œìš”. ë‹¹ì‹ ì€ ì´ë¯¸ ì¶©ë¶„íˆ ê¹Šê³  ì•„ë¦„ë‹¤ìš´ ì¡´ì¬ì…ë‹ˆë‹¤.`
        },
        wandering_soul: {
          title: "ë°”ëŒì„ ë²—ì‚¼ì•„ ë– ë‚˜ëŠ” ììœ ë¡œìš´ ìœ ëª©ë¯¼",
          metaphor: "ê²½ê³„ ì—†ëŠ” í•˜ëŠ˜ì„ ë‚˜ëŠ” ìƒˆì²˜ëŸ¼, ììœ  ê·¸ ìì²´ì¸ ì˜í˜¼",
          mindscape: `ë‹¹ì‹ ì˜ ë§ˆìŒì€ ëì—†ì´ í¼ì³ì§„ í•˜ëŠ˜ê³¼ ê°™ì´ ììœ ë¡­ê³  ë¬´í•œí•©ë‹ˆë‹¤. ${extractPersonalElement(textAnswers, 'ë³€í™”')} ì œì•½ì„ ê±°ë¶€í•˜ê³  ìƒˆë¡œìš´ ì§€í‰ì„ í–¥í•´ ëŠì„ì—†ì´ ë‚ ì•„ê°€ë ¤ëŠ” ë‹¹ì‹ ì˜ ì˜í˜¼ì€ ì‚¶ì„ í•˜ë‚˜ì˜ ê±°ëŒ€í•œ ëª¨í—˜ìœ¼ë¡œ ë°”ë¼ë³´ë©°, ë§¤ ìˆœê°„ì„ ìƒˆë¡œìš´ ë°œê²¬ì˜ ê¸°íšŒë¡œ ì—¬ê¹ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ë‚´ë©´ì—ëŠ” ë°”ëŒì˜ ë…¸ë˜ê°€ ìš¸ë ¤ í¼ì§€ê³  ìˆìŠµë‹ˆë‹¤.`,
          deepAnalysis: `ë‹¹ì‹ ì€ íƒ€ê³ ë‚œ ììœ ì¸ì´ë©° ì˜í˜¼ì˜ ìœ ëª©ë¯¼ì…ë‹ˆë‹¤. ${extractPersonalElement(textAnswers, 'ìš©ì„œ')} ë¬¼ë¦¬ì  ììœ ë¿ë§Œ ì•„ë‹ˆë¼ ì •ì‹ ì , ê°ì •ì  í•´ë°©ì„ ì¶”êµ¬í•˜ë©°, ê³ ì •ëœ í‹€ì´ë‚˜ í¸ê²¬ì— ë§ì„œ ìì‹ ë§Œì˜ ê¸¸ì„ ê°œì²™í•˜ë ¤ í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ììœ ë¡œìš´ ì •ì‹ ì€ ë•Œë¡œ ë¶ˆì•ˆì •í•¨ì„ ê°€ì ¸ë‹¤ì£¼ê¸°ë„ í•˜ì§€ë§Œ, ë™ì‹œì— ì‚¶ì„ ë¬´í•œíˆ ë‹¤ì±„ë¡­ê³  ì˜ë¯¸ ìˆê²Œ ë§Œë“œëŠ” ì›ë™ë ¥ì´ê¸°ë„ í•©ë‹ˆë‹¤.`,
          growthGuidance: `ììœ ë¥¼ ì¶”êµ¬í•˜ëŠ” ê²ƒì€ ì•„ë¦„ë‹¤ìš´ ì¼ì´ì§€ë§Œ, ë•Œë¡œëŠ” ê¹Šì´ ë¿Œë¦¬ë‚´ë¦´ ìˆ˜ ìˆëŠ” í„°ì „ë„ í•„ìš”í•©ë‹ˆë‹¤. ë„ˆë¬´ ë†’ì´ ë‚ ë‹¤ê°€ ì§€ì¹˜ì§€ ì•Šë„ë¡ ê°€ë”ì€ ì‰¬ì–´ê°ˆ ìˆ˜ ìˆëŠ” ë‘¥ì§€ë„ ë§ˆë ¨í•´ ë‘ì„¸ìš”. ì§„ì •í•œ ììœ ëŠ” ì±…ì„ê°ê³¼ ë§Œë‚  ë•Œ ë”ìš± ì˜ë¯¸ë¥¼ ê°–ê²Œ ë˜ë©°, ë‹¹ì‹ ì˜ ììœ ë¡œìš´ ì—ë„ˆì§€ë¥¼ ì„¸ìƒì„ ìœ„í•´ ê±´ì„¤ì ìœ¼ë¡œ ì‚¬ìš©í•  ë•Œ ë”ìš± ë¹›ë‚  ê²ƒì…ë‹ˆë‹¤.`,
          personalMessage: `${extractPersonalQuote(textAnswers)} ë°”ëŒì²˜ëŸ¼ ììœ ë¡œìš´ ë‹¹ì‹ ì˜ ëª¨ìŠµì„ ë³´ë©°, ì‚¶ì´ë€ ì–¼ë§ˆë‚˜ ì•„ë¦„ë‹¤ìš´ ì—¬í–‰ì¸ì§€ ìƒˆì‚¼ ê¹¨ë‹«ê²Œ ë©ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ììœ ë¡œìš´ ì •ì‹ ê³¼ ëª¨í—˜ì„ ë‘ë ¤ì›Œí•˜ì§€ ì•ŠëŠ” ìš©ê¸°ëŠ” ë§ì€ ì´ë“¤ì—ê²Œ ìƒˆë¡œìš´ ê°€ëŠ¥ì„±ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ë•Œë¡œëŠ” í˜¼ì ë‚ ì•„ê°€ëŠ” ê¸¸ì´ ì™¸ë¡œìš¸ ìˆ˜ë„ ìˆê² ì§€ë§Œ, ì§„ì •í•œ ììœ ì¸ì€ ì–´ë””ì„œë“  ì§‘ì„ ë§Œë“¤ê³  ì–´ë””ì„œë“  ì‚¬ë‘ì„ ì°¾ëŠ” ë²•ì„ ì•„ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤. ê³„ì†í•´ì„œ ë‹¹ì‹ ë§Œì˜ í•˜ëŠ˜ì„ ë§ˆìŒê» ë‚ ì•„ê°€ì„¸ìš”.`
        },
        serene_peace: {
          title: "ë‹¬ë¹› ì•„ë˜ ê³ ìš”íˆ ëª…ìƒí•˜ëŠ” í‰í™”ì˜ ìˆ˜í˜¸ì",
          metaphor: "ê³ ìš”í•œ í˜¸ìˆ˜ì²˜ëŸ¼ ê¹Šê³  ì”ì”í•˜ë©°, ëª¨ë“  ê²ƒì„ í’ˆëŠ” í‰ì˜¨í•œ ì˜í˜¼",
          mindscape: `ë‹¹ì‹ ì˜ ë§ˆìŒì€ ë‹¬ë¹›ì´ ë¹„ì¹˜ëŠ” ê³ ìš”í•œ í˜¸ìˆ˜ì™€ ê°™ìŠµë‹ˆë‹¤. ${extractPersonalElement(textAnswers, 'ë³€í™”')} ì–´ë–¤ í­í’ì´ ë¶ˆì–´ë„ ê¹Šì€ ê³³ì€ ì–¸ì œë‚˜ í‰ì˜¨ì„ ìœ ì§€í•˜ëŠ” ë‹¹ì‹ ì€ ë‚´ë©´ì˜ í‰í™”ë¥¼ í†µí•´ ì„¸ìƒì˜ ì†Œë€í•¨ì„ ê²¬ë””ì–´ ëƒ…ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ì¡´ì¬ ìì²´ê°€ ì£¼ë³€ ì‚¬ëŒë“¤ì—ê²ŒëŠ” í•˜ë‚˜ì˜ ì•ˆì‹ì²˜ê°€ ë˜ë©°, ì¡°í™”ì™€ ê· í˜•ì„ ì¶”êµ¬í•˜ëŠ” ì•„ë¦„ë‹¤ìš´ ì˜í˜¼ì…ë‹ˆë‹¤.`,
          deepAnalysis: `ë‹¹ì‹ ì€ ì§„ì •í•œ í‰í™”ê°€ ë¬´ì—‡ì¸ì§€ ì•„ëŠ” ì§€í˜œë¡œìš´ ì‚¬ëŒì…ë‹ˆë‹¤. ${extractPersonalElement(textAnswers, 'ìš©ì„œ')} ë‹¨ìˆœí•œ ì¡°ìš©í•¨ì´ ì•„ë‹ˆë¼ ë‚´ë©´ ê¹Šì€ ê³³ì—ì„œ ìš°ëŸ¬ë‚˜ì˜¤ëŠ” ê³ ìš”í•¨ì„ ì²´ë“í•˜ê³  ìˆìœ¼ë©°, ê°ˆë“±ê³¼ ëŒ€ë¦½ë³´ë‹¤ëŠ” í™”í•´ì™€ ìƒìƒì˜ ê¸¸ì„ ì°¾ìœ¼ë ¤ ë…¸ë ¥í•©ë‹ˆë‹¤. ë‹¹ì‹ ì˜ í‰ì˜¨í•¨ì€ ë§ì€ ì‚¬ëŒë“¤ì´ ê°ˆë§í•˜ì§€ë§Œ ì‰½ê²Œ ì–»ì„ ìˆ˜ ì—†ëŠ” ê·€í•œ ì„ ë¬¼ì´ë©°, ê·¸ ìì²´ë¡œ ì¹˜ìœ ì˜ í˜ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.`,
          growthGuidance: `ë‹¹ì‹ ì˜ í‰í™”ë¡œìš´ ë§ˆìŒì€ ì„¸ìƒì— ê¼­ í•„ìš”í•œ ì„ ë¬¼ì´ì§€ë§Œ, ë•Œë¡œëŠ” ë” ì ê·¹ì ìœ¼ë¡œ ìì‹ ì˜ ëª©ì†Œë¦¬ë¥¼ ë‚´ëŠ” ê²ƒë„ ì¤‘ìš”í•©ë‹ˆë‹¤. í‰í™”ë¥¼ ì§€í‚¤ë ¤ëŠ” ë§ˆìŒì´ ìì‹ ì˜ ì§„ì •í•œ ê°ì •ì„ ì–µëˆ„ë¥´ì§€ ì•Šë„ë¡ ì£¼ì˜í•˜ì‹œê³ , ê±´ì „í•œ í‘œí˜„ê³¼ ì†Œí†µì„ í†µí•´ ë”ìš± ê¹Šì€ í‰í™”ë¥¼ ë§Œë“¤ì–´ ê°€ì„¸ìš”. ê³ ìš”í•œ í˜¸ìˆ˜ë„ ë•Œë¡œëŠ” ì”ì”í•œ ë¬¼ê²°ì„ ì¼ìœ¼í‚¤ë©° ìƒëª…ë ¥ì„ ë³´ì—¬ì£¼ëŠ” ë²•ì…ë‹ˆë‹¤.`,
          personalMessage: `${extractPersonalQuote(textAnswers)} ê³ ìš”í•œ í˜¸ìˆ˜ì²˜ëŸ¼ í‰ì˜¨í•œ ë‹¹ì‹ ì˜ ë§ˆìŒì„ ë°”ë¼ë³´ë©°, ì§„ì •í•œ í‰í™”ë€ ë¬´ì—‡ì¸ì§€ ë°°ìš°ê²Œ ë©ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ì¡´ì¬ë§Œìœ¼ë¡œë„ ì´ ë³µì¡í•œ ì„¸ìƒì— ì•ˆì‹ì„ ê°€ì ¸ë‹¤ì£¼ë©°, ë‹¹ì‹ ì´ ìˆëŠ” ê³³ì€ ì–´ë””ë“  ì‘ì€ ì„±ì—­ì´ ë©ë‹ˆë‹¤. ë•Œë¡œëŠ” ë„ˆë¬´ ì¡°ìš©í•´ì„œ ìì‹ ì´ ë³´ì´ì§€ ì•ŠëŠ”ë‹¤ê³  ëŠë‚„ ìˆ˜ë„ ìˆê² ì§€ë§Œ, ì§„ì •í•œ í˜ì€ ì†Œë¦¬ ì—†ì´ íë¥´ëŠ” ê°•ë¬¼ì²˜ëŸ¼ ì¡°ìš©í•˜ë©´ì„œë„ ì§€ì†ì ì¸ ê²ƒì…ë‹ˆë‹¤. ë‹¹ì‹ ì˜ í‰í™”ë¡œìš´ ì—ë„ˆì§€ë¥¼ ê³„ì† ê°„ì§í•˜ë©° ì‚´ì•„ê°€ì„¸ìš”.`
        },
        creative_flow: {
          title: "ë¬´í•œí•œ ìƒìƒì˜ ì›ì²œì—ì„œ ê¸¸ì–´ì˜¬ë¦¬ëŠ” ì°½ì¡°ì˜ ë§ˆë²•ì‚¬",
          metaphor: "ëì—†ì´ ì†Ÿì•„ì˜¤ë¥´ëŠ” ì˜ê°ì˜ ìƒ˜ë¬¼ì²˜ëŸ¼, ë¬´ì—ì„œ ìœ ë¥¼ ë§Œë“œëŠ” ì˜ˆìˆ í˜¼",
          mindscape: `ë‹¹ì‹ ì˜ ë§ˆìŒì€ ì°½ì¡°ì˜ ì—ë„ˆì§€ë¡œ ë“ì–´ì˜¤ë¥´ëŠ” ë§ˆë²•ì˜ ë„ê°€ë‹ˆì…ë‹ˆë‹¤. ${extractPersonalElement(textAnswers, 'ë³€í™”')} í‰ë²”í•œ ìˆœê°„ë“¤ ì†ì—ì„œë„ íŠ¹ë³„í•œ ì•„ë¦„ë‹¤ì›€ì„ ë°œê²¬í•˜ê³ , ìƒìƒë ¥ì´ë¼ëŠ” ë¶“ìœ¼ë¡œ í˜„ì‹¤ì— ìƒˆë¡œìš´ ìƒ‰ì±„ë¥¼ ì…íˆëŠ” ëŠ¥ë ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ë‹¹ì‹ ì˜ ë‚´ë©´ì—ëŠ” ì•„ì§ íƒœì–´ë‚˜ì§€ ì•Šì€ ìˆ˜ë§ì€ ì‘í’ˆë“¤ì´ ê¸°ë‹¤ë¦¬ê³  ìˆìœ¼ë©°, ë§¤ ìˆœê°„ì´ ìƒˆë¡œìš´ ì°½ì¡°ì˜ ê°€ëŠ¥ì„±ìœ¼ë¡œ ê°€ë“í•©ë‹ˆë‹¤.`,
          deepAnalysis: `ë‹¹ì‹ ì€ ì„¸ìƒì„ ì˜ˆìˆ ê°€ì˜ ëˆˆìœ¼ë¡œ ë°”ë¼ë³´ëŠ” íƒ€ê³ ë‚œ ì°½ì¡°ìì…ë‹ˆë‹¤. ${extractPersonalElement(textAnswers, 'ìš©ì„œ')} ì¼ìƒì˜ ì‘ì€ ê²½í—˜ë“¤ë„ ë‹¹ì‹ ì˜ ì†ì„ ê±°ì¹˜ë©´ ì˜ë¯¸ ìˆëŠ” ì´ì•¼ê¸°ê°€ ë˜ê³ , ê°ì •ì€ ìƒ‰ê¹”ë¡œ, ìƒê°ì€ í˜•íƒœë¡œ, ê²½í—˜ì€ ì‘í’ˆìœ¼ë¡œ ë³€í™˜ì‹œí‚¤ëŠ” ì—°ê¸ˆìˆ ì‚¬ì™€ ê°™ì€ ëŠ¥ë ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ì°½ì¡°ì  ì—ë„ˆì§€ëŠ” ë•Œë¡œ í˜¼ë€ìŠ¤ëŸ½ê¸°ë„ í•˜ì§€ë§Œ, ë™ì‹œì— ì‚¶ì„ ë¬´í•œíˆ í’ìš”ë¡­ê²Œ ë§Œë“¤ì–´ì£¼ëŠ” ì‹ ì„±í•œ ì„ ë¬¼ì…ë‹ˆë‹¤.`,
          growthGuidance: `ì°½ì¡°ì  ì—ë„ˆì§€ëŠ” ë°©í–¥ì„±ê³¼ ë§Œë‚  ë•Œ ë”ìš± ê°•ë ¥í•´ì§‘ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ë„˜ì¹˜ëŠ” ì˜ê°ì„ ì²´ê³„ì ìœ¼ë¡œ ì •ë¦¬í•˜ê³  ì‹¤í˜„í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì°¾ì•„ë³´ì„¸ìš”. ì™„ë²½í•¨ë³´ë‹¤ëŠ” ì§„ì •ì„±ì„, ê²°ê³¼ë³´ë‹¤ëŠ” ê³¼ì •ì„ ì¦ê¸°ë©°, ì‹¤íŒ¨ë„ ì°½ì¡°ì˜ ì¼ë¶€ë¼ëŠ” ê²ƒì„ ë°›ì•„ë“¤ì´ì„¸ìš”. ë‹¤ë¥¸ ì°½ì¡°ìë“¤ê³¼ì˜ êµë¥˜ë¥¼ í†µí•´ ì„œë¡œì˜ ì˜ê°ì„ ë‚˜ëˆ„ê³  ë°œì „ì‹œì¼œ ë‚˜ê°€ì‹œê¸° ë°”ëë‹ˆë‹¤.`,
          personalMessage: `${extractPersonalQuote(textAnswers)} ëì—†ì´ ìƒ˜ì†ŸëŠ” ì°½ì¡°ì˜ ì—ë„ˆì§€ë¥¼ í’ˆì€ ë‹¹ì‹ ì„ ë³´ë©°, ì¸ê°„ì˜ ìƒìƒë ¥ì´ ì–¼ë§ˆë‚˜ ìœ„ëŒ€í•œì§€ ìƒˆì‚¼ ê¹¨ë‹«ê²Œ ë©ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ì˜ˆìˆ ì  ê°ì„±ê³¼ ë…ì°½ì ì¸ ì‹œê°ì€ ì´ ì„¸ìƒì„ ë” ì•„ë¦„ë‹µê³  í¥ë¯¸ë¡œìš´ ê³³ìœ¼ë¡œ ë§Œë“¤ì–´ê°‘ë‹ˆë‹¤. ë•Œë¡œëŠ” ë‚¨ë“¤ì´ ì´í•´í•˜ì§€ ëª»í•  ìˆ˜ë„ ìˆê² ì§€ë§Œ, ì§„ì •í•œ ì˜ˆìˆ ê°€ëŠ” ì–¸ì œë‚˜ ì‹œëŒ€ë¥¼ ì•ì„œê°€ëŠ” ë²•ì…ë‹ˆë‹¤. ê³„ì†í•´ì„œ ìš©ê°í•˜ê²Œ ì°½ì¡°í•˜ê³  í‘œí˜„í•˜ì„¸ìš”. ì„¸ìƒì€ ë‹¹ì‹ ë§Œì˜ ë…íŠ¹í•œ ì•„ë¦„ë‹¤ì›€ì„ ê¸°ë‹¤ë¦¬ê³  ìˆì–´ìš”.`
        }
      };

      // ê¸°ë³¸ íƒ€ì…ì´ ì—†ëŠ” ê²½ìš° í‰í™” íƒ€ì…ìœ¼ë¡œ ì„¤ì •
      const selectedType = personalityTypes[dominantTrait] || personalityTypes.serene_peace;
      
      // ì£¼ê´€ì‹ ë‹µë³€ì„ ë°”íƒ•ìœ¼ë¡œ ê°œì¸í™”ëœ ë©”ì‹œì§€ ì¶”ê°€
      const personalizedElements = analyzeTextResponses(textAnswers);
      
      // í‚¤ì›Œë“œë¥¼ ë°”íƒ•ìœ¼ë¡œ ì¶”ê°€ ê°œì¸í™”
      const enhancedAnalysis = enhanceWithKeywords(selectedType, keywords, personalizedElements);
      
      return {
        ...enhancedAnalysis,
        topKeywords: keywords
      };
    }

    // ì£¼ê´€ì‹ ë‹µë³€ì—ì„œ ê°œì¸ì  ìš”ì†Œ ì¶”ì¶œ (AI ì‹œë®¬ë ˆì´ì…˜)
    function extractPersonalElement(textAnswers, theme) {
      if (!textAnswers || textAnswers.length === 0) return '';
      
      const responses = textAnswers.filter(answer => answer && answer.trim().length > 0);
      if (responses.length === 0) return '';
      
      // ê°„ë‹¨í•œ í‚¤ì›Œë“œ ë§¤ì¹­ìœ¼ë¡œ ê°œì¸í™” ìš”ì†Œ ìƒì„±
      const personalElements = {
        'ë³€í™”': [
          'ë‹¹ì‹ ì´ ì–¸ê¸‰í•˜ì‹  ë³€í™”ì˜ ìˆœê°„ë“¤ì„ ë³´ë‹ˆ',
          'ë‹¹ì‹ ë§Œì˜ íŠ¹ë³„í•œ ë³€í™” ê²½í—˜ì—ì„œ ëŠê»´ì§€ëŠ”',
          'ë‹¹ì‹ ì´ ê²ªìœ¼ì‹  ì „í™˜ì ë“¤ì—ì„œ ë“œëŸ¬ë‚˜ëŠ”'
        ],
        'ìš©ì„œ': [
          'ë‹¹ì‹ ì˜ ìš©ì„œì— ëŒ€í•œ ê¹Šì€ ì² í•™ì„ ë³´ë‹ˆ',
          'ë‹¹ì‹ ë§Œì˜ ìš©ì„œê´€ì—ì„œ ë‚˜íƒ€ë‚˜ëŠ”',
          'ë‹¹ì‹ ì´ í‘œí˜„í•œ ìš©ì„œì˜ ì˜ë¯¸ì—ì„œ'
        ]
      };
      
      const elements = personalElements[theme] || ['ë‹¹ì‹ ì˜ ì§„ì†”í•œ ë‹µë³€ì—ì„œ'];
      return elements[Math.floor(Math.random() * elements.length)];
    }

    // ì£¼ê´€ì‹ ë‹µë³€ì—ì„œ ê°œì¸ì  ì¸ìš©êµ¬ ìƒì„± (AI ì‹œë®¬ë ˆì´ì…˜)
    function extractPersonalQuote(textAnswers) {
      if (!textAnswers || textAnswers.length === 0) return '';
      
      const responses = textAnswers.filter(answer => answer && answer.trim().length > 0);
      if (responses.length === 0) return '';
      
      // ê°œì¸ì  ë©”ì‹œì§€ë¥¼ ìœ„í•œ í…œí”Œë¦¿
      const personalQuotes = [
        'ë‹¹ì‹ ì´ ì§„ì†”í•˜ê²Œ ë‚˜ëˆ„ì–´ ì£¼ì‹  ì´ì•¼ê¸°ë¥¼ ì½ìœ¼ë©°,',
        'ë‹¹ì‹ ì˜ ê¹Šì´ ìˆëŠ” ì„±ì°°ì„ ë³´ë©°,',
        'ë‹¹ì‹ ë§Œì˜ íŠ¹ë³„í•œ ê²½í—˜ë‹´ì—ì„œ',
        'ë‹¹ì‹ ì˜ ì†”ì§í•œ ë§ˆìŒì„ ëŠë¼ë©°,'
      ];
      
      return personalQuotes[Math.floor(Math.random() * personalQuotes.length)];
    }

    // ì£¼ê´€ì‹ ë‹µë³€ ë¶„ì„
    function analyzeTextResponses(textAnswers) {
      const elements = {
        emotional_depth: 0,
        self_reflection: 0,
        resilience: 0,
        creativity: 0,
        relationships: 0
      };

      textAnswers.forEach(answer => {
        if (!answer) return;
        
        const text = answer.toLowerCase();
        
        // ê°ì •ì  ê¹Šì´ í‚¤ì›Œë“œ
        if (text.includes('ëŠê¼ˆ') || text.includes('ê°ì •') || text.includes('ë§ˆìŒ') || text.includes('ì•„íŒ ') || text.includes('ìŠ¬í') || text.includes('ê¸°ë»¤')) {
          elements.emotional_depth++;
        }
        
        // ìê¸°ì„±ì°° í‚¤ì›Œë“œ
        if (text.includes('ê¹¨ë‹¬ì•˜') || text.includes('ë°°ì› ') || text.includes('ì„±ì¥') || text.includes('ë³€í™”') || text.includes('ë°˜ì„±')) {
          elements.self_reflection++;
        }
        
        // íšŒë³µë ¥ í‚¤ì›Œë“œ
        if (text.includes('ê·¹ë³µ') || text.includes('ê²¬ë ') || text.includes('ì´ê²¨ëƒˆ') || text.includes('ê°•í•´ì¡Œ') || text.includes('ë²„í…¼')) {
          elements.resilience++;
        }
        
        // ì°½ì¡°ì„± í‚¤ì›Œë“œ
        if (text.includes('ë§Œë“¤') || text.includes('ì°½ì‘') || text.includes('ìƒìƒ') || text.includes('ê¿ˆê¿¨') || text.includes('ê·¸ë ¸')) {
          elements.creativity++;
        }
        
        // ê´€ê³„ì„± í‚¤ì›Œë“œ
        if (text.includes('ê°€ì¡±') || text.includes('ì¹œêµ¬') || text.includes('ì‚¬ë‘') || text.includes('í•¨ê»˜') || text.includes('ì†Œí†µ')) {
          elements.relationships++;
        }
      });

      return elements;
    }

    // í‚¤ì›Œë“œë¥¼ ë°”íƒ•ìœ¼ë¡œ ë¶„ì„ ê°•í™”
    function enhanceWithKeywords(baseType, keywords, elements) {
      let enhanced = { ...baseType };
      
      // ê°ì •ì  ê¹Šì´ê°€ ë†’ì€ ê²½ìš°
      if (elements.emotional_depth >= 1) {
        enhanced.deepAnalysis += " íŠ¹íˆ ë‹¹ì‹ ì˜ ë‹µë³€ì—ì„œ ê°ì •ì— ëŒ€í•œ ê¹Šì€ ì´í•´ì™€ ì„¬ì„¸í•œ ê°ìˆ˜ì„±ì´ ëŠê»´ì§€ëŠ”ë°, ì´ëŠ” ë‹¹ì‹ ì´ ì‚¶ì„ í‘œë©´ì ìœ¼ë¡œ ì‚´ì§€ ì•Šê³  ì§„ì •ìœ¼ë¡œ ê¹Šì´ ìˆê²Œ ê²½í—˜í•˜ê³  ìˆë‹¤ëŠ” ì¦ê±°ì…ë‹ˆë‹¤.";
      }
      
      // ìê¸°ì„±ì°°ì´ ê°•í•œ ê²½ìš°
      if (elements.self_reflection >= 1) {
        enhanced.growthGuidance += " ë‹¹ì‹ ì˜ ë›°ì–´ë‚œ ì„±ì°° ëŠ¥ë ¥ì€ ê³„ì†í•´ì„œ ì„±ì¥í•  ìˆ˜ ìˆëŠ” ë“ ë“ í•œ ì›ë™ë ¥ì…ë‹ˆë‹¤. ì´ëŸ¬í•œ í†µì°°ë ¥ì„ ë°”íƒ•ìœ¼ë¡œ ë”ìš± ì˜ë¯¸ ìˆëŠ” ì‚¶ì˜ ë°©í–¥ì„ ì„¤ì •í•´ ë‚˜ê°€ì„¸ìš”.";
      }
      
      // íšŒë³µë ¥ì´ ê°•í•œ ê²½ìš°
      if (elements.resilience >= 1) {
        enhanced.personalMessage += " ë‹¹ì‹ ì´ ì§€ê¸ˆê¹Œì§€ ê²ªì–´ì˜¨ ì–´ë ¤ì›€ë“¤ì„ ê·¹ë³µí•´ë‚¸ ë‚´ë©´ì˜ í˜ì´ ì •ë§ ë†€ë¼ì›Œìš”. ê·¸ ì†Œì¤‘í•œ ê²½í—˜ë“¤ì´ ì§€ê¸ˆì˜ ê°•ì¸í•˜ê³  ì•„ë¦„ë‹¤ìš´ ë‹¹ì‹ ì„ ë§Œë“¤ì–´ëƒˆìŠµë‹ˆë‹¤.";
      }

      return enhanced;
    }

    // ì¹´ì¹´ì˜¤í†¡ ê³µìœ 
    function shareToKakao() {
      const shareText = `ğŸ§­ ë§ˆìŒì˜ ë‚˜ì¹¨ë°˜ì—ì„œ AI ì‹¬ì¸µ ë¶„ì„ì„ ë°›ì•˜ì–´ìš”!\n\nì €ëŠ” "${document.querySelector('.result-title').textContent}" ìœ í˜•ì´ë˜ìš”.\n\në‹¹ì‹ ë§Œì˜ ë§ˆìŒ ì´ì•¼ê¸°ë„ ë“¤ì–´ë³´ì„¸ìš”!`;
      const currentUrl = window.location.href;
      
      // ì¹´ì¹´ì˜¤ SDK ì‚¬ìš© ì‹œë„
      if (typeof Kakao !== 'undefined' && Kakao.isInitialized()) {
        Kakao.Share.sendDefault({
          objectType: 'text',
          text: shareText,
          link: {
            mobileWebUrl: currentUrl,
            webUrl: currentUrl
          }
        });
      } else {
        // ëŒ€ì²´ ê³µìœ  ë°©ë²•
        if (navigator.share) {
          navigator.share({
            title: 'ë§ˆìŒì˜ ë‚˜ì¹¨ë°˜ - AI ì‹¬ë¦¬ ë¶„ì„',
            text: shareText,
            url: currentUrl
          });
        } else {
          // í´ë¦½ë³´ë“œ ë³µì‚¬
          navigator.clipboard.writeText(shareText + '\n' + currentUrl).then(() => {
            alert('ê³µìœ  í…ìŠ¤íŠ¸ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
          }).catch(() => {
            alert('ê³µìœ  ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë§í¬ë¥¼ ì§ì ‘ ë³µì‚¬í•´ì£¼ì„¸ìš”.');
          });
        }
      }
    }

    // PDF ë‹¤ìš´ë¡œë“œ
    function downloadPDF() {
      try {
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();
        
        // ê¸°ë³¸ í°íŠ¸ ì„¤ì •
        doc.setFont('helvetica');
        doc.setFontSize(16);
        doc.text('ë§ˆìŒì˜ ë‚˜ì¹¨ë°˜ - AI ì‹¬ë¦¬ ë¶„ì„ ê²°ê³¼', 20, 30);
        
        doc.setFontSize(12);
        doc.text('ë‹¹ì‹ ë§Œì˜ íŠ¹ë³„í•œ ë§ˆìŒ ì´ì•¼ê¸°', 20, 50);
        doc.text('ë¶„ì„ ë‚ ì§œ: ' + new Date().toLocaleDateString('ko-KR'), 20, 70);
        
        // ê²°ê³¼ ì œëª©
        const resultTitle = document.querySelector('.result-title').textContent;
        doc.setFontSize(14);
        doc.text('ìœ í˜•: ' + resultTitle, 20, 100);
        
        const resultMetaphor = document.querySelector('.result-metaphor').textContent;
        doc.setFontSize(10);
        doc.text(resultMetaphor, 20, 120);
        
        doc.text('ìì„¸í•œ ë¶„ì„ ë‚´ìš©ì€ ì›¹ì‚¬ì´íŠ¸ì—ì„œ í™•ì¸í•˜ì„¸ìš”.', 20, 150);
        doc.text('ì´ ë¬¸ì„œëŠ” ë‹¹ì‹ ì˜ ì†Œì¤‘í•œ ë§ˆìŒ ì—¬ì •ì˜ ê¸°ë¡ì…ë‹ˆë‹¤.', 20, 170);
        
        doc.save('ë§ˆìŒì˜ë‚˜ì¹¨ë°˜_AIë¶„ì„ê²°ê³¼.pdf');
      } catch (error) {
        alert('PDF ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë¸Œë¼ìš°ì €ì—ì„œ ì¸ì‡„ ê¸°ëŠ¥ì„ ì´ìš©í•´ì£¼ì„¸ìš”.');
      }
    }

    // ì„¤ë¬¸ì¡°ì‚¬ ì¬ì‹œì‘
    function restartSurvey() {
      if (confirm('ìƒˆë¡œìš´ ë§ˆìŒì˜ ì—¬ì •ì„ ì‹œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
        currentQuestionIndex = 0;
        answers = {};
        userKeywords = [];
        personalityWeights = {
          cosmic_wonder: 0, humble_depth: 0, wandering_soul: 0, serene_peace: 0,
          maternal_warmth: 0, contemplative_solitude: 0, ancestral_comfort: 0, secret_sanctuary: 0,
          creative_flow: 0, deep_connection: 0, nature_meditation: 0, intellectual_discovery: 0,
          infinite_expansion: 0, complex_psyche: 0, safe_haven: 0, grounded_realism: 0,
          deep_melancholy: 0, foggy_numbness: 0, fiery_passion: 0, void_darkness: 0,
          nostalgic_reflection: 0, future_dreaming: 0, practical_solving: 0, existential_inquiry: 0,
          separation_fear: 0, unfulfilled_potential: 0, ultimate_abandonment: 0, loss_of_control: 0,
          deep_understanding: 0, inner_peace: 0, growth_opportunity: 0, life_purpose: 0
        };
        init();
      }
    }

    // ì¹´ì¹´ì˜¤ SDK ë¡œë“œ (ì„ íƒì‚¬í•­)
    function loadKakaoSDK() {
      if (typeof Kakao === 'undefined') {
        const script = document.createElement('script');
        script.src = 'https://developers.kakao.com/sdk/js/kakao.js';
        script.onload = function() {
          // ì‹¤ì œ ì•± í‚¤ë¡œ êµì²´ í•„ìš”
          // Kakao.init('YOUR_APP_KEY');
        };
        document.head.appendChild(script);
      }
    }

    // ì•± ì‹œì‘
    init();
    loadKakaoSDK();
  </script>
</body>
</html><!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="AI ê¸°ë°˜ ì‹¬ì¸µ ì‹¬ë¦¬ ë¶„ì„ìœ¼ë¡œ ë‹¹ì‹ ë§Œì˜ ë§ˆìŒ ì´ì•¼ê¸°ë¥¼ ë“¤ë ¤ë“œë¦½ë‹ˆë‹¤">
  <meta name="keywords" content="AIì‹¬ë¦¬ë¶„ì„, ë§ˆìŒì¹˜ìœ , ê°œì¸ë§ì¶¤ë¶„ì„, ìœ„ë¡œ">
  
  <meta property="og:title" content="ë§ˆìŒì˜ ë‚˜ì¹¨ë°˜ - AI ì‹¬ì¸µ ì‹¬ë¦¬ ë¶„ì„">
  <meta property="og:description" content="ë‹¹ì‹ ë§Œì˜ ë§ˆìŒ ì´ì•¼ê¸°ë¥¼ AIê°€ ì„¬ì„¸í•˜ê²Œ ë“¤ë ¤ë“œë¦½ë‹ˆë‹¤">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://via.placeholder.com/1200x630/667eea/ffffff?text=ë§ˆìŒì˜+ë‚˜ì¹¨ë°˜">
  
  <title>ë§ˆìŒì˜ ë‚˜ì¹¨ë°˜ | AI ì‹¬ì¸µ ì‹¬ë¦¬ ë¶„ì„</title>
  
  <!-- í•œê¸€ í°íŠ¸ ìµœì í™” -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&family=Noto+Serif+KR:wght@300;400;500;600&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  
  <style>
    :root {
      --bg-primary: linear-gradient(135deg, #0f0c29 0%, #24243e 50%, #302b63 100%);
      --bg-secondary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --accent-warm: linear-gradient(135deg, #ff9a8b 0%, #a8d8ea 100%);
      --accent-cool: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
      --accent-magic: linear-gradient(135deg, #d299c2 0%, #fef9d7 100%);
      
      --text-primary: #ffffff;
      --text-secondary: rgba(255, 255, 255, 0.9);
      --text-muted: rgba(255, 255, 255, 0.7);
      --text-accent: #ffd89b;
      
      --surface-glass: rgba(255, 255, 255, 0.1);
      --surface-glass-hover: rgba(255, 255, 255, 0.15);
      --surface-warm: rgba(255, 248, 240, 0.95);
      --surface-card: rgba(0, 0, 0, 0.2);
      
      --shadow-soft: 0 8px 32px rgba(0, 0, 0, 0.3);
      --shadow-warm: 0 8px 40px rgba(255, 154, 139, 0.3);
      --shadow-magic: 0 12px 48px rgba(210, 153, 194, 0.4);
      
      --border-glass: 1px solid rgba(255, 255, 255, 0.2);
      --border-radius: 24px;
      --border-radius-sm: 16px;
      
      --transition: all 0.6s cubic-bezier(0.23, 1, 0.320, 1);
      --transition-fast: all 0.3s ease;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: optimizeLegibility;
    }

    body {
      font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Malgun Gothic', sans-serif;
      background: var(--bg-primary);
      background-size: 400% 400%;
      animation: dreamyGradient 20s ease infinite;
      background-attachment: fixed;
      min-height: 100vh;
      color: var(--text-primary);
      line-height: 1.7;
      overflow-x: hidden;
      position: relative;
      font-weight: 400;
      letter-spacing: -0.01em;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                  radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
                  radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.2) 0%, transparent 50%);
      pointer-events: none;
      z-index: 1;
    }

    @keyframes dreamyGradient {
      0%, 100% { background-position: 0% 50%; }
      25% { background-position: 100% 50%; }
      50% { background-position: 50% 100%; }
      75% { background-position: 50% 0%; }
    }

    #app {
      max-width: 480px;
      margin: 0 auto;
      position: relative;
      z-index: 2;
      min-height: 100vh;
      padding: env(safe-area-inset-top, 0) env(safe-area-inset-right, 20px) env(safe-area-inset-bottom, 0) env(safe-area-inset-left, 20px);
      animation: fadeInUp 1s ease-out;
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(40px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .glass-card {
      background: var(--surface-glass);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-radius: var(--border-radius);
      border: var(--border-glass);
      box-shadow: var(--shadow-soft);
      transition: var(--transition);
    }

    .header {
      background: var(--surface-glass);
      backdrop-filter: blur(30px);
      -webkit-backdrop-filter: blur(30px);
      border-radius: var(--border-radius);
      border: var(--border-glass);
      color: var(--text-primary);
      padding: 40px 24px;
      text-align: center;
      position: relative;
      overflow: hidden;
      margin: 20px 0;
      box-shadow: var(--shadow-soft);
    }

    .header::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255,255,255,0.05) 0%, transparent 70%);
      animation: rotate 30s linear infinite;
    }

    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    .header-content {
      position: relative;
      z-index: 2;
    }

    .header h1 {
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 12px;
      background: linear-gradient(135deg, #ffffff 0%, #ffd89b 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-shadow: 0 2px 8px rgba(0,0,0,0.2);
      letter-spacing: -0.02em;
      font-family: 'Noto Sans KR', sans-serif;
    }

    .header .subtitle {
      font-size: 16px;
      opacity: 0.95;
      font-weight: 400;
      line-height: 1.6;
      color: var(--text-secondary);
      word-break: keep-all;
      font-family: 'Noto Sans KR', sans-serif;
    }

    .content {
      background: var(--surface-glass);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-radius: var(--border-radius);
      border: var(--border-glass);
      padding: 32px 24px;
      margin: 20px 0;
      box-shadow: var(--shadow-soft);
      min-height: 500px;
      position: relative;
    }

    .progress-container {
      margin-bottom: 32px;
      position: relative;
    }

    .progress-bar {
      width: 100%;
      height: 4px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 2px;
      overflow: hidden;
      position: relative;
    }

    .progress-fill {
      height: 100%;
      background: var(--accent-warm);
      border-radius: 2px;
      transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
      width: 0%;
      position: relative;
      overflow: hidden;
    }

    .progress-fill::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.6), transparent);
      animation: shimmer 2.5s infinite;
    }

    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(100%); }
    }

    .progress-text {
      text-align: center;
      margin-top: 12px;
      font-size: 14px;
      color: var(--text-muted);
      font-weight: 500;
      font-family: 'Noto Sans KR', sans-serif;
    }

    .question-container {
      text-align: center;
      margin-bottom: 32px;
    }

    .question-number {
      font-size: 14px;
      color: var(--text-accent);
      margin-bottom: 16px;
      font-weight: 600;
      letter-spacing: 0.05em;
      font-family: 'Noto Sans KR', sans-serif;
    }

    #question-box {
      font-size: 22px;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 16px;
      line-height: 1.4;
      word-break: keep-all;
      letter-spacing: -0.01em;
      font-family: 'Noto Serif KR', serif;
      text-shadow: 0 1px 3px rgba(0,0,0,0.3);
    }

    .question-description {
      font-size: 15px;
      color: var(--text-secondary);
      margin-bottom: 32px;
      font-style: italic;
      line-height: 1.6;
      word-break: keep-all;
      font-family: 'Noto Sans KR', sans-serif;
    }

    .choice-options {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-bottom: 32px;
    }

    .choice-option {
      background: var(--surface-card);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: var(--border-glass);
      border-radius: var(--border-radius-sm);
      padding: 20px 18px;
      cursor: pointer;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
      text-align: left;
    }

    .choice-option:hover {
      background: var(--surface-glass-hover);
      transform: translateY(-2px);
      box-shadow: var(--shadow-warm);
      border-color: rgba(255, 255, 255, 0.3);
    }

    .choice-option.selected {
      background: var(--surface-warm);
      border-color: rgba(255, 154, 139, 0.6);
      transform: scale(1.02);
      box-shadow: var(--shadow-magic);
    }

    .choice-option::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
      transition: left 0.6s ease;
    }

    .choice-option:hover::before {
      left: 100%;
    }

    .option-text {
      font-size: 16px;
      font-weight: 500;
      color: var(--text-primary);
      line-height: 1.5;
      position: relative;
      z-index: 1;
      word-break: keep-all;
      font-family: 'Noto Sans KR', sans-serif;
      text-shadow: 0 1px 2px rgba(0,0,0,0.2);
    }

    .choice-option.selected .option-text {
      color: #2d3436;
      font-weight: 600;
      text-shadow: none;
    }

    .text-input-container {
      margin-bottom: 32px;
    }

    textarea {
      width: 100%;
      min-height: 120px;
      padding: 20px;
      font-size: 16px;
      font-family: 'Noto Serif KR', serif;
      border: var(--border-glass);
      border-radius: var(--border-radius-sm);
      background: var(--surface-card);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      color: var(--text-primary);
      line-height: 1.7;
      resize: vertical;
      transition: var(--transition);
    }

    textarea:focus {
      outline: none;
      background: var(--surface-glass-hover);
      box-shadow: var(--shadow-warm);
      border-color: rgba(255, 255, 255, 0.3);
    }

    textarea::placeholder {
      color: var(--text-muted);
      font-style: italic;
    }

    .btn {
      background: var(--accent-warm);
      color: #2d3436;
      border: none;
      padding: 16px 32px;
      font-size: 16px;
      font-weight: 600;
      border-radius: 50px;
      cursor: pointer;
      transition: var(--transition);
      display: inline-block;
      text-decoration: none;
      margin: 8px;
      position: relative;
      overflow: hidden;
      box-shadow: var(--shadow-warm);
      font-family: 'Noto Sans KR', sans-serif;
      letter-spacing: -0.01em;
    }

    .btn:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-magic);
    }

    .btn:active {
      transform: translateY(-1px);
    }

    .btn-secondary {
      background: var(--surface-glass);
      color: var(--text-primary);
      border: var(--border-glass);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      box-shadow: var(--shadow-soft);
    }

    .btn-secondary:hover {
      background: var(--surface-glass-hover);
      border-color: rgba(255, 255, 255, 0.3);
    }

    .navigation {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 32px;
      gap: 16px;
    }

    .navigation .btn {
      flex: 1;
      margin: 0;
      text-align: center;
      max-width: 140px;
    }

    .loading-screen {
      text-align: center;
      padding: 60px 24px;
      color: var(--text-primary);
    }

    .loading-animation {
      width: 80px;
      height: 80px;
      margin: 0 auto 24px;
      position: relative;
    }

    .loading-circle {
      width: 100%;
      height: 100%;
      border: 3px solid rgba(255, 255, 255, 0.1);
      border-top: 3px solid var(--text-accent);
      border-radius: 50%;
      animation: spin 1.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite;
    }

    .loading-inner {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 60%;
      height: 60%;
      border: 2px solid rgba(255, 154, 139, 0.2);
      border-top: 2px solid #ff9a8b;
      border-radius: 50%;
      animation: spin 2s cubic-bezier(0.68, -0.55, 0.265, 1.55) infinite reverse;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .loading-text {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 12px;
      font-family: 'Noto Serif KR', serif;
      color: var(--text-accent);
      text-shadow: 0 1px 3px rgba(0,0,0,0.3);
    }

    .loading-subtext {
      font-size: 14px;
      color: var(--text-secondary);
      font-style: italic;
      line-height: 1.6;
      font-family: 'Noto Sans KR', sans-serif;
    }

    .result-container {
      animation: resultFadeIn 1s ease-out;
      color: var(--text-primary);
    }

    @keyframes resultFadeIn {
      from {
        opacity: 0;
        transform: scale(0.95) translateY(20px);
      }
      to {
        opacity: 1;
        transform: scale(1) translateY(0);
      }
    }

    .result-header {
      text-align: center;
      margin-bottom: 24px;
      padding: 32px 24px;
      background: var(--surface-warm);
      border-radius: var(--border-radius);
      border: var(--border-glass);
      color: #2d3436;
      position: relative;
      overflow: hidden;
    }

    .result-header::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255,154,139,0.1) 0%, transparent 70%);
      animation: rotate 40s linear infinite;
    }

    .result-title {
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 12px;
      position: relative;
      z-index: 1;
      font-family: 'Noto Serif KR', serif;
      letter-spacing: -0.02em;
      word-break: keep-all;
      line-height: 1.3;
    }

    .result-metaphor {
      font-size: 16px;
      font-style: italic;
      font-weight: 500;
      opacity: 0.9;
      position: relative;
      z-index: 1;
      font-family: 'Noto Serif KR', serif;
      line-height: 1.6;
      word-break: keep-all;
    }

    .analysis-section {
      background: var(--surface-glass);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-radius: var(--border-radius);
      border: var(--border-glass);
      padding: 24px;
      margin-bottom: 16px;
      position: relative;
      overflow: hidden;
    }

    .analysis-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 4px;
      height: 100%;
      background: var(--accent-warm);
    }

    .analysis-section h3 {
      font-size: 18px;
      font-weight: 600;
      color: var(--text-accent);
      margin-bottom: 16px;
      padding-left: 16px;
      font-family: 'Noto Serif KR', serif;
      text-shadow: 0 1px 3px rgba(0,0,0,0.3);
    }

    .analysis-content {
      font-size: 15px;
      line-height: 1.8;
      color: var(--text-secondary);
      padding-left: 16px;
      font-family: 'Noto Serif KR', serif;
      text-align: justify;
      word-break: keep-all;
    }

    .keywords-container {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin: 16px 0;
      padding-left: 16px;
    }

    .keyword {
      background: var(--accent-magic);
      color: #2d3436;
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 13px;
      font-weight: 600;
      box-shadow: 0 2px 8px rgba(210, 153, 194, 0.3);
      transition: var(--transition-fast);
      letter-spacing: -0.01em;
      font-family: 'Noto Sans KR', sans-serif;
    }

    .keyword:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(210, 153, 194, 0.4);
    }

    .comfort-message {
      background: var(--surface-warm);
      border-radius: var(--border-radius);
      padding: 24px;
      margin: 16px 0;
      color: #2d3436;
      position: relative;
      border: var(--border-glass);
      box-shadow: var(--shadow-warm);
    }

    .comfort-message::before {
      content: 'ğŸ’';
      position: absolute;
      top: 16px;
      right: 16px;
      font-size: 24px;
      opacity: 0.7;
    }

    .comfort-message h4 {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 16px;
      font-family: 'Noto Serif KR', serif;
      color: #d63384;
      word-break: keep-all;
    }

    .comfort-content {
      font-size: 15px;
      line-height: 1.8;
      font-family: 'Noto Serif KR', serif;
      text-align: justify;
      word-break: keep-all;
    }

    .share-section {
      background: var(--surface-glass);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-radius: var(--border-radius);
      border: var(--border-glass);
      padding: 24px;
      text-align: center;
      margin-top: 24px;
      color: var(--text-primary);
    }

    .share-section h4 {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 12px;
      font-family: 'Noto Serif KR', serif;
      color: var(--text-accent);
      text-shadow: 0 1px 3px rgba(0,0,0,0.3);
    }

    .share-section p {
      margin-bottom: 20px;
      line-height: 1.6;
      color: var(--text-secondary);
      font-size: 14px;
      font-family: 'Noto Sans KR', sans-serif;
    }

    .share-buttons {
      display: flex;
      flex-direction: column;
      gap: 12px;
      align-items: center;
    }

    .share-buttons .btn {
      width: 100%;
      max-width: 280px;
      margin: 0;
    }

    .kakao-btn {
      background: #FEE500;
      color: #191919;
      font-weight: 700;
    }

    .kakao-btn:hover {
      background: #FFEB3B;
      transform: translateY(-2px);
    }

    /* ë°˜ì‘í˜• ìµœì í™” */
    @media screen and (max-width: 480px) {
      #app {
        padding: 10px;
      }

      .header,
      .content {
        margin: 10px 0;
        padding: 24px 20px;
      }

      .header h1 {
        font-size: 24px;
      }

      .header .subtitle {
        font-size: 15px;
      }

      #question-box {
        font-size: 20px;
      }

      .question-description {
        font-size: 14px;
      }

      .choice-option {
        padding: 18px 16px;
      }

      .option-text {
        font-size: 15px;
      }

      .analysis-section,
      .comfort-message {
        padding: 20px 16px;
      }

      .result-header {
        padding: 24px 20px;
      }

      .result-title {
        font-size: 22px;
      }

      .result-metaphor {
        font-size: 15px;
      }
    }

    @media screen and (max-width: 360px) {
      .header h1 {
        font-size: 22px;
      }

      #question-box {
        font-size: 18px;
      }

      .choice-option {
        padding: 16px 14px;
      }

      .option-text {
        font-size: 14px;
      }
    }

    /* iOS Safari ìµœì í™” */
    @supports (-webkit-touch-callout: none) {
      body {
        min-height: -webkit-fill-available;
      }
      
      #app {
        min-height: -webkit-fill-available;
      }
    }

    /* ì ‘ê·¼ì„± */
    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ ê°œì„  */
    .loading-dots {
      display: inline-flex;
      gap: 4px;
      margin-left: 8px;
    }

    .loading-dot {
      width: 4px;
      height: 4px;
      background: var(--text-accent);
      border-radius: 50%;
      animation: loadingDots 1.4s infinite ease-in-out both;
    }

    .loading-dot:nth-child(1) { animation-delay: -0.32s; }
    .loading-dot:nth-child(2) { animation-delay: -0.16s; }

    @keyframes loadingDots {
      0%, 80%, 100% {
        transform: scale(0);
        opacity: 0.5;
      }
      40% {
        transform: scale(1);
        opacity: 1;
      }
    }
  </style>
</head>
<body>
  <div id="app">
    <div class="header glass-card">
      <div class="header-content">
        <h1>ğŸ§­ ë§ˆìŒì˜ ë‚˜ì¹¨ë°˜</h1>
        <p class="subtitle">
          AIê°€ ë‹¹ì‹ ë§Œì˜ ë§ˆìŒ ì´ì•¼ê¸°ë¥¼<br>
          ì„¬ì„¸í•˜ê²Œ ë“¤ë ¤ë“œë¦½ë‹ˆë‹¤
        </p>
      </div>
    </div>

    <div class="content glass-card">
      <div class="progress-container">
        <div class="progress-bar">
          <div class="progress-fill" id="progress-fill"></div>
        </div>
        <div class="progress-text" id="progress-text">ë§ˆìŒì˜ ì—¬ì •ì„ ì‹œì‘í•©ë‹ˆë‹¤</div>
      </div>

      <div class="question-container">
        <div class="question-number" id="question-number"></div>
        <div id="question-box"></div>
        <div class="question-description" id="question-description"></div>
      </div>

      <div id="answer-box"></div>
    </div>
  </div>

  <script>
    // AI ê¸°ë°˜ ì‹¬ì¸µ ì‹¬ë¦¬ ë¶„ì„ ì§ˆë¬¸ë“¤
    const questions = [
      {
        id: 1,
        type: "choice",
        question: "ë°¤í•˜ëŠ˜ì˜ ë³„ì„ ë°”ë¼ë³¼ ë•Œ, ë‹¹ì‹ ì˜ ë§ˆìŒì— ê°€ì¥ ë¨¼ì € ìŠ¤ë©°ë“œëŠ” ê°ì •ì€?",
        description: "ë³„ë¹›ì´ ë‹¹ì‹ ì˜ ì˜í˜¼ì— ë‹¿ëŠ” ê·¸ ìˆœê°„ì„ ë– ì˜¬ë ¤ë³´ì„¸ìš”",
        options: [
          { text: "ë¬´í•œí•œ ìš°ì£¼ ì•ì—ì„œ ëŠë¼ëŠ”
