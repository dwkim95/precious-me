<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIND DIVE</title>
    <meta name="description" content="ë‹¹ì‹ ì˜ ë§ˆìŒ ê¹Šì€ ê³³ì— ìˆ¨ê²¨ì§„ ì§„ì§œ ëª¨ìŠµì„ ì°¾ì•„ì„œ">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600&family=Noto+Serif+KR:wght@300;400&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: #0a0f1b;
            color: #e8ecf1;
            line-height: 1.65;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 50%, rgba(59, 130, 246, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(99, 102, 241, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(139, 92, 246, 0.05) 0%, transparent 50%);
            pointer-events: none;
            z-index: 1;
        }

        .water-drop {
            position: fixed;
            width: 4px;
            height: 4px;
            background: rgba(99, 102, 241, 0.3);
            border-radius: 50%;
            pointer-events: none;
            z-index: 2;
            animation: dropFall linear infinite;
        }

        @keyframes dropFall {
            0% { transform: translateY(-100vh) scale(0); opacity: 0; }
            10% { opacity: 1; transform: scale(1); }
            90% { opacity: 1; }
            100% { transform: translateY(100vh) scale(0); opacity: 0; }
        }

        .shooting-star {
            position: fixed;
            width: 2px;
            height: 2px;
            background: rgba(168, 85, 247, 0.8);
            border-radius: 50%;
            pointer-events: none;
            z-index: 2;
            animation: shootingStar linear infinite;
            box-shadow: 0 0 6px rgba(168, 85, 247, 0.5);
        }

        @keyframes shootingStar {
            0% { transform: translateX(-100px) translateY(-100px) scale(0); opacity: 0; }
            10% { opacity: 1; transform: scale(1); }
            90% { opacity: 1; }
            100% { transform: translateX(100vw) translateY(100vh) scale(0); opacity: 0; }
        }

        @keyframes wave {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeInScale {
            from { opacity: 0; transform: scale(0.95) translateY(10px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }

        @keyframes shimmer {
            0% { transform: translateX(-100px); }
            100% { transform: translateX(100px); }
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes pulseGlow {
            0%, 100% { box-shadow: 0 0 20px rgba(99, 102, 241, 0.3); }
            50% { box-shadow: 0 0 40px rgba(99, 102, 241, 0.5); }
        }

        @keyframes slideInFromBottom {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeOut {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(-20px); }
        }

        .container {
            max-width: 420px;
            margin: 0 auto;
            padding: 24px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            z-index: 3;
        }

        .screen {
            animation: fadeIn 0.6s ease;
        }

        .screen.fade-out {
            animation: fadeOut 0.4s ease forwards;
        }

        .audio-control {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 100;
            background: rgba(30, 41, 59, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(148, 163, 184, 0.2);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .audio-control:hover {
            background: rgba(30, 41, 59, 0.9);
            transform: scale(1.1);
        }

        .audio-control.playing {
            animation: pulseGlow 2s infinite;
        }

        .logo {
            text-align: center;
            margin-bottom: 48px;
        }

        .logo h1 {
            font-size: 2.5rem;
            font-weight: 600;
            letter-spacing: -0.03em;
            background: linear-gradient(135deg, #60a5fa 0%, #818cf8 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 12px;
            line-height: 1.2;
        }

        .logo p {
            font-size: 0.95rem;
            color: #94a3b8;
            font-weight: 300;
            line-height: 1.4;
        }

        .intro-text {
            font-family: 'Noto Serif KR', serif;
            font-size: 1.05rem;
            line-height: 1.9;
            color: #cbd5e1;
            text-align: center;
            margin-bottom: 48px;
            font-weight: 300;
            word-break: keep-all;
        }

        .intro-text em {
            font-style: normal;
            color: #e8ecf1;
            font-weight: 400;
        }

        .btn-primary {
            width: 100%;
            padding: 18px 32px;
            background: linear-gradient(135deg, #3b82f6 0%, #6366f1 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            line-height: 1.4;
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn-primary:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 24px rgba(59, 130, 246, 0.3);
        }

        .btn-primary:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .story-container {
            text-align: center;
            padding: 40px 0;
            animation: slideInFromBottom 0.6s ease;
        }

        .story-title {
            font-family: 'Noto Serif KR', serif;
            font-size: 1.3rem;
            font-weight: 400;
            color: #a5b4fc;
            margin-bottom: 28px;
            line-height: 1.4;
        }

        .story-text {
            font-family: 'Noto Serif KR', serif;
            font-size: 1rem;
            line-height: 1.9;
            color: #cbd5e1;
            margin-bottom: 40px;
            font-weight: 300;
            word-break: keep-all;
        }

        .story-text em {
            font-style: normal;
            color: #e8ecf1;
            font-weight: 400;
        }

        .progress-section {
            margin-bottom: 40px;
            animation: slideInFromBottom 0.5s ease;
        }

        .depth-indicator {
            font-size: 0.85rem;
            color: #64748b;
            text-align: center;
            margin-bottom: 16px;
            font-weight: 400;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            line-height: 1.4;
        }

        .progress-bar {
            height: 3px;
            background: rgba(148, 163, 184, 0.2);
            border-radius: 3px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6 0%, #6366f1 100%);
            border-radius: 3px;
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            width: 100px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3));
            animation: shimmer 2s infinite;
        }

        .question-card {
            background: rgba(30, 41, 59, 0.5);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(148, 163, 184, 0.1);
            border-radius: 16px;
            padding: 32px 28px;
            margin-bottom: 32px;
            animation: slideInFromBottom 0.6s ease;
        }

        .question-text {
            font-family: 'Noto Serif KR', serif;
            font-size: 1.25rem;
            line-height: 1.7;
            color: #f1f5f9;
            text-align: center;
            font-weight: 400;
            word-break: keep-all;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option-btn {
            background: rgba(30, 41, 59, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(148, 163, 184, 0.15);
            border-radius: 12px;
            padding: 20px 24px;
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: left;
            color: #e2e8f0;
            font-size: 0.95rem;
            line-height: 1.6;
            position: relative;
            overflow: hidden;
            opacity: 0;
            animation: slideInFromBottom 0.4s ease forwards;
            word-break: keep-all;
        }

        .option-btn:nth-child(1) { animation-delay: 0.1s; }
        .option-btn:nth-child(2) { animation-delay: 0.2s; }
        .option-btn:nth-child(3) { animation-delay: 0.3s; }
        .option-btn:nth-child(4) { animation-delay: 0.4s; }

        .option-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(99, 102, 241, 0.1), transparent);
            transition: left 0.5s;
        }

        .option-btn:hover::before {
            left: 100%;
        }

        .option-btn:hover {
            background: rgba(30, 41, 59, 0.5);
            border-color: rgba(99, 102, 241, 0.3);
            transform: translateX(4px);
        }

        .option-btn.selected {
            background: rgba(99, 102, 241, 0.15);
            border-color: rgba(99, 102, 241, 0.5);
            transform: translateX(4px);
        }

        .option-btn:disabled {
            cursor: not-allowed;
            opacity: 0.5;
        }

        .loading-container {
            text-align: center;
            padding: 60px 0;
            animation: fadeInScale 0.6s ease;
        }

        .wave-loader {
            display: inline-flex;
            gap: 8px;
            margin-bottom: 32px;
        }

        .wave-dot {
            width: 8px;
            height: 8px;
            background: #60a5fa;
            border-radius: 50%;
            animation: wave 1.4s ease-in-out infinite;
        }

        .wave-dot:nth-child(2) { animation-delay: 0.2s; }
        .wave-dot:nth-child(3) { animation-delay: 0.4s; }
        .wave-dot:nth-child(4) { animation-delay: 0.6s; }
        .wave-dot:nth-child(5) { animation-delay: 0.8s; }

        .loading-message {
            font-family: 'Noto Serif KR', serif;
            font-size: 1rem;
            line-height: 1.8;
            color: #94a3b8;
            font-weight: 300;
            word-break: keep-all;
        }

        .result-header {
            text-align: center;
            margin-bottom: 48px;
            animation: fadeInScale 0.6s ease;
        }

        .result-badge {
            display: inline-block;
            padding: 8px 18px;
            background: rgba(99, 102, 241, 0.1);
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: 20px;
            font-size: 0.8rem;
            color: #a5b4fc;
            margin-bottom: 20px;
            font-weight: 500;
            letter-spacing: 0.05em;
            line-height: 1.4;
        }

        .result-title {
            font-family: 'Noto Serif KR', serif;
            font-size: 2rem;
            font-weight: 500;
            line-height: 1.3;
            color: #f8fafc;
            margin-bottom: 16px;
        }

        .result-subtitle {
            font-size: 1rem;
            color: #94a3b8;
            font-weight: 300;
            line-height: 1.6;
            word-break: keep-all;
        }

        .result-section {
            background: rgba(30, 41, 59, 0.3);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(148, 163, 184, 0.1);
            border-radius: 16px;
            padding: 28px;
            margin-bottom: 20px;
            opacity: 0;
            animation: slideInFromBottom 0.6s ease forwards;
        }

        .result-section:nth-child(2) { animation-delay: 0.1s; }
        .result-section:nth-child(3) { animation-delay: 0.2s; }
        .result-section:nth-child(4) { animation-delay: 0.3s; }
        .result-section:nth-child(5) { animation-delay: 0.4s; }
        .result-section:nth-child(6) { animation-delay: 0.5s; }

        .result-section h3 {
            font-size: 1.1rem;
            font-weight: 500;
            color: #e8ecf1;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
            line-height: 1.4;
        }

        .result-section p {
            font-size: 0.95rem;
            line-height: 1.8;
            color: #cbd5e1;
            font-weight: 300;
            word-break: keep-all;
        }

        .letter-section {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, rgba(99, 102, 241, 0.05) 100%);
            border: 1px solid rgba(99, 102, 241, 0.15);
            position: relative;
            overflow: hidden;
        }

        .letter-section::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(99, 102, 241, 0.05) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        .letter-content {
            font-family: 'Noto Serif KR', serif;
            font-size: 1rem;
            line-height: 1.9;
            color: #e8ecf1;
            position: relative;
            z-index: 1;
            word-break: keep-all;
        }

        .letter-content strong {
            color: #a5b4fc;
            font-weight: 400;
        }

        .action-buttons {
            display: flex;
            gap: 12px;
            margin-top: 32px;
            animation: slideInFromBottom 0.6s ease 0.4s both;
        }

        .btn-secondary {
            flex: 1;
            padding: 14px 20px;
            background: rgba(30, 41, 59, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(148, 163, 184, 0.2);
            border-radius: 12px;
            color: #e2e8f0;
            font-size: 0.85rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            line-height: 1.4;
        }

        .btn-secondary:hover {
            background: rgba(30, 41, 59, 0.7);
            border-color: rgba(148, 163, 184, 0.3);
        }

        .btn-kakao {
            background: #fee500;
            color: #3c1e1e;
            border-color: #fee500;
        }

        .btn-kakao:hover {
            background: #fdd835;
            border-color: #fdd835;
        }

        .btn-text {
            display: block;
            margin: 24px auto 0;
            background: none;
            border: none;
            color: #64748b;
            font-size: 0.9rem;
            cursor: pointer;
            transition: color 0.3s;
            animation: fadeIn 0.6s ease 0.5s both;
            line-height: 1.4;
        }

        .btn-text:hover {
            color: #94a3b8;
        }

        .hidden {
            display: none !important;
        }

        @media (max-width: 480px) {
            .container { padding: 20px; }
            .logo h1 { font-size: 2.2rem; }
            .question-text { font-size: 1.15rem; padding: 0 4px; }
            .result-title { font-size: 1.75rem; }
            .option-btn { padding: 18px 20px; font-size: 0.9rem; }
            .intro-text, .story-text, .loading-message { font-size: 0.95rem; padding: 0 4px; }
            .result-section p, .letter-content { font-size: 0.9rem; padding: 0 4px; }
            .action-buttons { flex-direction: column; }
            .btn-secondary { font-size: 0.9rem; }
            .audio-control { top: 15px; right: 15px; width: 45px; height: 45px; }
        }
    </style>
</head>

<body>
    <div class="audio-control" id="audioControl" title="ë°°ê²½ìŒì•…">
        <span id="audioIcon">ğŸµ</span>
    </div>

    <div class="container">
        <!-- ì‹œì‘ í™”ë©´ -->
        <div class="screen" id="welcomeScreen">
            <div class="logo">
                <h1>MIND DIVE</h1>
                <p>ë§ˆìŒì˜ ì‹¬í•´ë¡œ ë– ë‚˜ëŠ” ì—¬í–‰</p>
            </div>
            
            <div class="intro-text">
                ì§€ê¸ˆ ì´ ìˆœê°„, ë‹¹ì‹ ì€ í˜¼ìê°€ ì•„ë‹™ë‹ˆë‹¤.<br>
                ìˆ˜ë§ì€ ì‚¬ëŒë“¤ì´ ê°ìì˜ ë§ˆìŒ ê¹Šì€ ê³³ì—ì„œ<br>
                <em>ì§„ì‹¤í•œ ìì‹ </em>ì„ ì°¾ê³  ìˆì–´ìš”.<br><br>
                
                ë‹¹ì‹ ì˜ ë§ˆìŒì€ ê¹Šê³  ì•„ë¦„ë‹¤ìš´ ë°”ë‹¤ì…ë‹ˆë‹¤.<br>
                í‘œë©´ì˜ ì‘ì€ íŒŒë„ ì•„ë˜ì—ëŠ”<br>
                ê³ ìš”í•˜ê³  ë”°ëœ»í•œ ì„¸ê³„ê°€ ê¸°ë‹¤ë¦¬ê³  ìˆì–´ìš”.<br><br>
                
                ì˜¤ëŠ˜ì€ ì˜¨ì „íˆ ë‹¹ì‹ ì„ ìœ„í•œ ì‹œê°„ì…ë‹ˆë‹¤.<br>
                í•¨ê»˜ ì²œì²œíˆ ë‚´ë ¤ê°€ ë³´ì•„ìš”.
            </div>
            
            <button class="btn-primary" onclick="startJourney()">ë§ˆìŒì˜ ë°”ë‹¤ë¡œ ë“¤ì–´ê°€ê¸°</button>
        </div>

        <!-- ìŠ¤í† ë¦¬ í™”ë©´ -->
        <div class="screen hidden" id="storyScreen">
            <div class="story-container">
                <h2 class="story-title" id="storyTitle"></h2>
                <div class="story-text" id="storyText"></div>
                <button class="btn-primary" onclick="continueJourney()">ê³„ì† ë‚˜ì•„ê°€ê¸°</button>
            </div>
        </div>

        <!-- ì§ˆë¬¸ í™”ë©´ -->
        <div class="screen hidden" id="questionScreen">
            <div class="progress-section">
                <div class="depth-indicator" id="depthIndicator">ìˆ˜ì‹¬ 0m</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>
            
            <div class="question-card">
                <div class="question-text" id="questionText"></div>
            </div>
            
            <div class="options" id="optionsContainer"></div>
        </div>

        <!-- ë¡œë”© í™”ë©´ -->
        <div class="screen hidden" id="loadingScreen">
            <div class="loading-container">
                <div class="wave-loader">
                    <div class="wave-dot"></div>
                    <div class="wave-dot"></div>
                    <div class="wave-dot"></div>
                    <div class="wave-dot"></div>
                    <div class="wave-dot"></div>
                </div>
                <div class="loading-message" id="loadingMessage">
                    ë§ˆìŒì˜ ê¹Šì€ ê³³ì—ì„œ ë‹¹ì‹ ë§Œì˜ ë³´ë¬¼ì„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤
                </div>
            </div>
        </div>

        <!-- ê²°ê³¼ í™”ë©´ -->
        <div class="screen hidden" id="resultScreen">
            <div class="result-header">
                <div class="result-badge">ë‹¹ì‹ ì˜ ë§ˆìŒ ì† ë°œê²¬</div>
                <h2 class="result-title" id="resultTitle"></h2>
                <p class="result-subtitle" id="resultSubtitle"></p>
            </div>

            <div class="result-section">
                <h3>ë‹¹ì‹ ì˜ ë³¸ì§ˆ</h3>
                <p id="essenceText"></p>
            </div>

            <div class="result-section">
                <h3>ë‹¹ì‹ ì´ ì„¸ìƒì— ì£¼ëŠ” ì„ ë¬¼</h3>
                <p id="lightSide"></p>
            </div>

            <div class="result-section">
                <h3>ë•Œë¡œëŠ” í˜ë“  ë‹¹ì‹ ì˜ ë§ˆìŒ</h3>
                <p id="shadowSide"></p>
            </div>

            <div class="result-section">
                <h3>ë‹¹ì‹ ì—ê²Œ í•„ìš”í•œ ì„±ì¥</h3>
                <p id="growthPath"></p>
            </div>

            <div class="result-section letter-section">
                <div class="letter-content" id="letterContent"></div>
            </div>

            <div class="action-buttons">
                <button class="btn-secondary btn-kakao" onclick="shareKakao()">ì¹´ì¹´ì˜¤í†¡</button>
                <button class="btn-secondary" onclick="shareResult()">ê³µìœ í•˜ê¸°</button>
                <button class="btn-secondary" onclick="copyLink()">ë§í¬ë³µì‚¬</button>
            </div>

            <button class="btn-text" onclick="restartDive()">ë‹¤ì‹œ ì ìˆ˜í•˜ê¸°</button>
        </div>
    </div>

    <script>
        // ì „ì—­ ìƒíƒœ ê´€ë¦¬
        let gameState = {
            currentDepth: 0,
            currentStory: 0,
            responses: [],
            isTransitioning: false,
            scores: {
                pearl: 0, current: 0, abyss: 0, coral: 0,
                gentle: 0, brave: 0, wise: 0, free: 0
            }
        };

        // ì˜¤ë””ì˜¤ ê´€ë¦¬
        let audioContext = null;
        let isMusicPlaying = false;
        let currentOscillators = [];

        // ìŠ¤í† ë¦¬ ë°ì´í„°
        const stories = [
            {
                title: "ì‹¬í•´ë¡œì˜ ì…ìˆ˜",
                text: "ìˆ˜ë©´ì´ ë‹¹ì‹ ì„ ë¶€ë“œëŸ½ê²Œ ê°ì‹¸ì¤ë‹ˆë‹¤.<br><br>ì²˜ìŒì—” ëˆ„êµ¬ë‚˜ ë§ì„¤ì…ë‹ˆë‹¤. ê´œì°®ì•„ìš”.<br><em>ì²œì²œíˆ, ìì—°ìŠ¤ëŸ½ê²Œ.</em><br><br>ë‹¹ì‹ ë§Œì˜ ì†ë„ë¡œ ê°€ë©´ ë©ë‹ˆë‹¤."
            },
            {
                title: "ì²« ë²ˆì§¸ ê¹Šì´",
                text: "í–‡ì‚´ì´ ë¬¼ì†ìœ¼ë¡œ ìŠ¤ë©°ë“¤ì–´<br>ì˜¨í™”í•œ ë¹›ì¤„ê¸°ë¥¼ ë§Œë“¤ê³  ìˆì–´ìš”.<br><br>ì—¬ê¸°ì„œ ì ì‹œ ë¨¸ë¬¼ëŸ¬ë„ ê´œì°®ìŠµë‹ˆë‹¤.<br><em>ì„œë‘ë¥´ì§€ ë§ˆì„¸ìš”.</em>"
            },
            {
                title: "ì¡°ê¸ˆ ë” ê¹Šì€ ê³³ìœ¼ë¡œ",
                text: "ë¹›ì´ ì¡°ê¸ˆì”© ë¶€ë“œëŸ¬ì›Œì§€ê³  ìˆë„¤ìš”.<br><br>ì´ ê³ ìš”í•¨ì´ ë‚¯ì„¤ì–´ë„ ê´œì°®ì•„ìš”.<br>ë‹¹ì‹ ì€ <em>ì¶©ë¶„íˆ ì•ˆì „</em>í•©ë‹ˆë‹¤."
            },
            {
                title: "ì¤‘ê°„ ì§€ì ",
                text: "ì—¬ê¸°ê¹Œì§€ ì˜¨ ë‹¹ì‹ ì´ ë†€ë¼ì›Œìš”.<br><br>ì£¼ë³€ì´ ì¡°ê¸ˆ ì–´ë‘ì›Œì¡Œì§€ë§Œ<br>ë‹¹ì‹  ì•ˆì˜ ë¹›ì€ <em>ë”ìš± ì„ ëª…í•´ì§€ê³ </em> ìˆì–´ìš”."
            },
            {
                title: "ë” ê¹Šì€ ë§ˆìŒìœ¼ë¡œ",
                text: "ì •ì ì´ ë‹¹ì‹ ì„ ê°ì‹¸ê³  ìˆìŠµë‹ˆë‹¤.<br><br>ì´ ê³ ìš”í•¨ ì†ì—ì„œ<br>ë‹¹ì‹ ì˜ ì§„ì‹¤í•œ ëª©ì†Œë¦¬ì— <em>ê·€ ê¸°ìš¸ì—¬ë³´ì„¸ìš”.</em>"
            },
            {
                title: "ë§ˆìŒì˜ ë°”ë‹¥ ê·¼ì²˜",
                text: "ê±°ì˜ ë‹¤ ì™”ì–´ìš”.<br><br>ì—¬ê¸°ê¹Œì§€ ìš©ê¸° ë‚´ì–´ ë‚´ë ¤ì˜¨ ë‹¹ì‹ ,<br>ì •ë§ <em>ìš©ê°í•œ ì‚¬ëŒ</em>ì´ì—ìš”."
            }
        ];

        // ì§ˆë¬¸ ë°ì´í„°
        const questions = [
            {
                depth: 10,
                text: "ì¹œêµ¬ë“¤ê³¼ í•¨ê»˜ ìˆì„ ë•Œ\në‹¹ì‹ ì€ ì£¼ë¡œ ì–´ë–¤ ëª¨ìŠµì¸ê°€ìš”?",
                options: [
                    { text: "ì¡°ìš©íˆ ë“£ê³  ìˆë‹¤ê°€ í•„ìš”í•  ë•Œ ë§í•´ìš”", type: "gentle" },
                    { text: "ì¬ë¯¸ìˆëŠ” ì´ì•¼ê¸°ë‚˜ ìƒˆë¡œìš´ ì œì•ˆì„ í•´ìš”", type: "brave" },
                    { text: "ì§„ì§€í•œ ëŒ€í™”ë‚˜ ê¹Šì€ ì£¼ì œë¥¼ ì¢‹ì•„í•´ìš”", type: "wise" },
                    { text: "ë¶„ìœ„ê¸°ì— ë”°ë¼ ìì—°ìŠ¤ëŸ½ê²Œ ë°”ë€Œì–´ìš”", type: "free" }
                ]
            },
            {
                depth: 50,
                text: "ë§ˆìŒì´ ë³µì¡í•  ë•Œ\nê°€ì¥ ë¨¼ì € í•˜ê³  ì‹¶ì€ ì¼ì€?",
                options: [
                    { text: "í˜¼ìë§Œì˜ ì¡°ìš©í•œ ê³µê°„ì—ì„œ ë§ˆìŒì„ ë‹¤ìŠ¤ë ¤ìš”", type: "pearl" },
                    { text: "ë­”ê°€ í™œë™ì ì¸ ê±¸ í•˜ë©° ì—ë„ˆì§€ë¥¼ ë°”ê¿”ìš”", type: "coral" },
                    { text: "ì™œ ì´ëŸ° ê°ì •ì¸ì§€ ê¹Šì´ ë“¤ì—¬ë‹¤ë´ìš”", type: "abyss" },
                    { text: "í‰ì†Œì™€ ì „í˜€ ë‹¤ë¥¸ ê±¸ í•´ë³´ë©° í˜ë ¤ë³´ë‚´ìš”", type: "current" }
                ]
            },
            {
                depth: 120,
                text: "ì¹´í˜ì—ì„œ í˜¼ì ì•‰ì•„ ìˆì„ ë•Œ\nì£¼ë¡œ ë¬´ì—‡ì„ í•˜ê³  ìˆë‚˜ìš”?",
                options: [
                    { text: "ì°½ë°–ì„ ë³´ë©° ì¡°ìš©íˆ ìƒê°ì— ì ê²¨ìˆì–´ìš”", type: "gentle" },
                    { text: "í•  ì¼ì„ ì •ë¦¬í•˜ê±°ë‚˜ ê³„íšì„ ì„¸ìš°ê³  ìˆì–´ìš”", type: "brave" },
                    { text: "ì‚¬ëŒë“¤ì„ ê´€ì°°í•˜ë©° ì´ëŸ°ì €ëŸ° ìƒìƒì„ í•´ìš”", type: "wise" },
                    { text: "ê·¸ë•Œê·¸ë•Œ ê¸°ë¶„ì— ë”°ë¼ ë‹¬ë¼ì ¸ìš”", type: "free" }
                ]
            },
            {
                depth: 200,
                text: "ì†Œì¤‘í•œ ì‚¬ëŒì´ í˜ë“¤ì–´í•  ë•Œ\në‹¹ì‹ ì˜ ì²« ë°˜ì‘ì€?",
                options: [
                    { text: "ì¡°ìš©íˆ ê³ì— ìˆì–´ì£¼ë©° ìœ„ë¡œí•´ìš”", type: "pearl" },
                    { text: "í•¨ê»˜ í•´ê²°ë°©ë²•ì„ ì°¾ì•„ë³´ìê³  í•´ìš”", type: "coral" },
                    { text: "ì§„ì‹¬ìœ¼ë¡œ ê·¸ ë§ˆìŒì„ ì´í•´í•˜ë ¤ê³  í•´ìš”", type: "abyss" },
                    { text: "ê·¸ ìˆœê°„ í•„ìš”í•œ ê±¸ ìì—°ìŠ¤ëŸ½ê²Œ í•´ì¤˜ìš”", type: "current" }
                ]
            },
            {
                depth: 300,
                text: "ìƒˆë¡œìš´ í™˜ê²½ì— ì ì‘í•´ì•¼ í•  ë•Œ\në‹¹ì‹ ì€ ì–´ë–¤ íƒ€ì…ì¸ê°€ìš”?",
                options: [
                    { text: "ì²œì²œíˆ ìµìˆ™í•´ì§ˆ ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤ìš”", type: "gentle" },
                    { text: "ì ê·¹ì ìœ¼ë¡œ ë°°ìš°ê³  ì ì‘í•˜ë ¤ê³  í•´ìš”", type: "brave" },
                    { text: "ì™œ ì´ëŸ° ë³€í™”ê°€ í•„ìš”í•œì§€ë¶€í„° ìƒê°í•´ìš”", type: "wise" },
                    { text: "ì¼ë‹¨ ê²½í—˜í•´ë³´ë©° ìì—°ìŠ¤ëŸ½ê²Œ í˜ëŸ¬ê°€ìš”", type: "free" }
                ]
            },
            {
                depth: 450,
                text: "ë°¤ëŠ¦ê²Œ ì ë“¤ê¸° ì „\në§ˆì§€ë§‰ì— ë“œëŠ” ìƒê°ì€?",
                options: [
                    { text: "ì˜¤ëŠ˜ í•˜ë£¨ë„ ê³ ìƒí–ˆêµ¬ë‚˜, ë‚´ì¼ì€ ë” í‰ì˜¨í–ˆìœ¼ë©´", type: "pearl" },
                    { text: "ë‚´ì¼ì€ ë­˜ í•´ë³¼ê¹Œ, ì–´ë–»ê²Œ ë” ë‚˜ì•„ì§ˆê¹Œ", type: "coral" },
                    { text: "ì˜¤ëŠ˜ ìˆì—ˆë˜ ì¼ë“¤ì˜ ì˜ë¯¸ë¥¼ ë˜ì§šì–´ë´ìš”", type: "abyss" },
                    { text: "ë‚´ì¼ì€ ë˜ ì–´ë–¤ í•˜ë£¨ê°€ ë ê¹Œ ê¶ê¸ˆí•´ìš”", type: "current" }
                ]
            },
            {
                depth: 600,
                text: "ê°€ì¥ ì†Œì¤‘í•œ ì‚¬ëŒê³¼ í—¤ì–´ì ¸ì•¼ í•œë‹¤ë©´\nì–´ë–¤ ë§ˆìŒì´ ë“¤ê¹Œìš”?",
                options: [
                    { text: "ì¡°ìš©íˆ ë°›ì•„ë“¤ì´ê³  ì˜¤ë˜ ê·¸ë¦¬ì›Œí•  ê²ƒ ê°™ì•„ìš”", type: "gentle" },
                    { text: "ìŠ¬í”„ì§€ë§Œ ì„œë¡œì˜ ì„±ì¥ì„ ìœ„í•´ ì‘ì›í• ê²Œìš”", type: "brave" },
                    { text: "ì™œ í—¤ì–´ì ¸ì•¼ í•˜ëŠ”ì§€ ê¹Šì´ ìƒê°í•´ë³¼ ê²ƒ ê°™ì•„ìš”", type: "wise" },
                    { text: "ìŠ¬í”„ì§€ë§Œ ìƒˆë¡œìš´ ë§Œë‚¨ë„ ê¸°ëŒ€í•  ê²ƒ ê°™ì•„ìš”", type: "free" }
                ]
            },
            {
                depth: 750,
                text: "ì¸ìƒì—ì„œ ê°€ì¥ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•˜ëŠ” ê²ƒì€?",
                options: [
                    { text: "ë§ˆìŒì˜ í‰í™”ì™€ ì•ˆì •ê°", type: "pearl" },
                    { text: "ê¾¸ì¤€í•œ ì„±ì¥ê³¼ ë°œì „", type: "coral" },
                    { text: "ì§„ì‹¤í•œ ê´€ê³„ì™€ ê¹Šì€ ì´í•´", type: "abyss" },
                    { text: "ììœ ë¡œì›€ê³¼ ìƒˆë¡œìš´ ê²½í—˜", type: "current" }
                ]
            },
            {
                depth: 900,
                text: "10ë…„ í›„ì˜ ë‚˜ì—ê²Œ í•˜ê³  ì‹¶ì€ ë§ì€?",
                options: [
                    { text: "ì§€ê¸ˆë³´ë‹¤ ë” í‰ì˜¨í•˜ê³  í–‰ë³µí•˜ê¸¸ ë°”ë¼", type: "gentle" },
                    { text: "ê¿ˆê¿”ì™”ë˜ ëª¨ë“  ê±¸ ì´ë¤˜ìœ¼ë©´ ì¢‹ê² ì–´", type: "brave" },
                    { text: "ì§€ê¸ˆì˜ ê³ ë¯¼ë“¤ì´ ì–´ë–¤ ì˜ë¯¸ì˜€ëŠ”ì§€ ì•Œë ¤ì¤˜", type: "wise" },
                    { text: "ì–´ë–¤ ëª¨ìŠµì´ë“  ê·¸ë•Œì˜ ë„ˆë¥¼ ì‘ì›í• ê²Œ", type: "free" }
                ]
            },
            {
                depth: 1050,
                text: "ì§€ê¸ˆ ì´ ìˆœê°„ ê°€ì¥ í•„ìš”í•œ ê²ƒì€?",
                options: [
                    { text: "ë”°ëœ»í•œ ìœ„ë¡œì™€ ì¶©ë¶„í•œ íœ´ì‹", type: "pearl" },
                    { text: "ìƒˆë¡œìš´ ë™ê¸°ì™€ ë„ì „í•  ìš©ê¸°", type: "coral" },
                    { text: "ë‚˜ ìì‹ ì— ëŒ€í•œ ê¹Šì€ ì´í•´", type: "abyss" },
                    { text: "ë§ˆìŒ í¸íˆ í˜ëŸ¬ê°ˆ ìˆ˜ ìˆëŠ” ììœ ", type: "current" }
                ]
            },
            {
                depth: 1200,
                text: "ë§ˆì§€ë§‰ ì§ˆë¬¸ì…ë‹ˆë‹¤.\në‹¹ì‹ ì´ ê°€ì¥ ì†Œì¤‘íˆ ê°„ì§í•˜ê³  ì‹¶ì€ ê²ƒì€?",
                options: [
                    { text: "ì§€ê¸ˆê¹Œì§€ ìŒ“ì•„ì˜¨ ì†Œì¤‘í•œ ì¶”ì–µë“¤", type: "gentle" },
                    { text: "ë” ë‚˜ì€ ë‚´ì¼ì„ ë§Œë“¤ì–´ê°ˆ í¬ë§", type: "brave" },
                    { text: "ì§„ì‹¤ëœ ë§ˆìŒê³¼ ê¹Šì€ ê°ì •ë“¤", type: "wise" },
                    { text: "ì–¸ì œë‚˜ ë³€í™”í•  ìˆ˜ ìˆëŠ” ê°€ëŠ¥ì„±", type: "free" }
                ]
            }
        ];

        // ê²°ê³¼ ë°ì´í„° (í•µì‹¬ íƒ€ì…ë“¤ë§Œ)
        const results = {
            "pearl-gentle": {
                title: "ì˜¨í™”í•œ ì§„ì£¼",
                subtitle: "ê³ ìš”í•¨ ì†ì—ì„œ ë”°ëœ»í•œ ë¹›ì„ í’ˆì€ ì˜í˜¼",
                essence: "í‰ì˜¨í•¨ê³¼ ì˜¨í™”í•¨ì´ ì–´ìš°ëŸ¬ì§„ ë‹¹ì‹ ì€, ì„¸ìƒì˜ ì†ŒìŒ ì†ì—ì„œë„ ì¤‘ì‹¬ì„ ìƒì§€ ì•ŠëŠ” ì‚¬ëŒì…ë‹ˆë‹¤. ì¡°ìš©í•˜ì§€ë§Œ í™•ê³ í•œ ë‚´ë©´ì˜ í˜ì„ ê°€ì§€ê³  ìˆì–´ìš”.",
                light: "ë‹¹ì‹ ì€ í˜¼ë€ìŠ¤ëŸ¬ìš´ ì„¸ìƒì— ì•ˆì •ê°ì„ ì„ ì‚¬í•˜ëŠ” ì¡´ì¬ì…ë‹ˆë‹¤. ë§ì—†ëŠ” ìœ„ë¡œì™€ ì˜¨í™”í•œ ë¯¸ì†Œë¡œ ë§ì€ ì‚¬ëŒë“¤ì˜ ë§ˆìŒì„ ì–´ë£¨ë§Œì ¸ ì£¼ê³  ìˆì–´ìš”. ë‹¹ì‹  ê³ì— ìˆìœ¼ë©´ ìì—°ìŠ¤ëŸ½ê²Œ ë§ˆìŒì´ ì°¨ë¶„í•´ì§€ê³  í‰ì˜¨í•´ì§‘ë‹ˆë‹¤.",
                shadow: "ë•Œë¡œëŠ” ë„ˆë¬´ ë§ì€ ê²ƒì„ í˜¼ì ê°ë‹¹í•˜ë ¤ í•´ì„œ ì§€ì¹  ë•Œê°€ ìˆì–´ìš”. ìì‹ ì˜ ê°ì •ì„ í‘œí˜„í•˜ëŠ” ê²ƒì„ ì–´ë ¤ì›Œí•˜ê¸°ë„ í•˜ì£ . ë‹¤ë¥¸ ì‚¬ëŒì„ ë°°ë ¤í•˜ëŠë¼ ì •ì‘ ìì‹ ì˜ ë§ˆìŒì€ ë’¤ë¡œ ë¯¸ë£¨ê³¤ í•©ë‹ˆë‹¤.",
                growth: "ë‹¹ì‹ ì—ê²Œ í•„ìš”í•œ ê²ƒì€ ìì‹ ì˜ ê°ì •ì—ë„ ê·€ ê¸°ìš¸ì´ëŠ” ì‹œê°„ì…ë‹ˆë‹¤. ë‹¤ë¥¸ ì‚¬ëŒì„ ëŒë³´ëŠ” ë§Œí¼ ìì‹ ë„ ì†Œì¤‘íˆ ì—¬ê¸°ì„¸ìš”. ë•Œë¡œëŠ” ë„ì›€ì„ ìš”ì²­í•˜ëŠ” ê²ƒë„ ìš©ê¸°ë¼ëŠ” ê²ƒì„ ê¸°ì–µí•´ì£¼ì„¸ìš”.",
                letter: "ê³ ìš”í•œ ë°”ë‹¤ ê¹Šì€ ê³³ì—ì„œ ì˜¤ëœ ì‹œê°„ ë¹›ì„ í‚¤ì›Œì˜¨ ì§„ì£¼ì²˜ëŸ¼, ë‹¹ì‹ ì€ ì„¸ìƒì— í‰í™”ë¥¼ ê°€ì ¸ë‹¤ì£¼ëŠ” ì†Œì¤‘í•œ ì¡´ì¬ì…ë‹ˆë‹¤.<br><br>ë‹¹ì‹ ì˜ <strong>ë¶€ë“œëŸ¬ìš´ í˜</strong>ì´ ì´ ì„¸ìƒì„ ë” ë”°ëœ»í•˜ê²Œ ë§Œë“¤ì–´ì£¼ê³  ìˆì–´ìš”. ê¸‰í•˜ì§€ ì•Šê²Œ, ì²œì²œíˆ ìì‹ ë§Œì˜ ì†ë„ë¡œ ë¹›ë‚˜ëŠ” ë‹¹ì‹ ì´ ì•„ë¦„ë‹µìŠµë‹ˆë‹¤."
            },
            "pearl-brave": {
                title: "ìš©ê¸° ìˆëŠ” ì§„ì£¼",
                subtitle: "í‰í™”ë¡œìš°ë©´ì„œë„ ê°•ì¸í•œ ì˜ì§€ë¥¼ ê°€ì§„ ì˜í˜¼",
                essence: "í‰ì˜¨í•¨ê³¼ ìš©ê¸°ë¥¼ ë™ì‹œì— ê°€ì§„ ê· í˜•ì¡íŒ ë‹¹ì‹ ì€, í•„ìš”í•  ë•ŒëŠ” ê³¼ê°í•˜ê²Œ í–‰ë™í•˜ë©´ì„œë„ ë§ˆìŒì˜ í‰í™”ë¥¼ ìƒì§€ ì•ŠëŠ” ì‚¬ëŒì…ë‹ˆë‹¤.",
                light: "ë‹¹ì‹ ì€ ì¡°ìš©í•œ ì¹´ë¦¬ìŠ¤ë§ˆë¥¼ ê°€ì§„ ì‚¬ëŒì…ë‹ˆë‹¤. í‰ì†Œì—ëŠ” ì°¨ë¶„í•˜ì§€ë§Œ, ì¤‘ìš”í•œ ìˆœê°„ì—ëŠ” ì•ì¥ì„œì„œ ê¸¸ì„ ì œì‹œí•´ìš”. ì´ëŸ° ë‹¹ì‹ ì˜ ëª¨ìŠµì´ ë§ì€ ì‚¬ëŒë“¤ì—ê²Œ ì‹ ë¢°ê°ê³¼ ì•ˆì •ê°ì„ ë™ì‹œì— ì¤ë‹ˆë‹¤.",
                shadow: "ì™„ë²½í•´ ë³´ì´ë ¤ëŠ” ì••ë°•ê°ì„ ìŠ¤ìŠ¤ë¡œì—ê²Œ ì£¼ê¸°ë„ í•´ìš”. í•­ìƒ ê°•í•´ì•¼ í•œë‹¤ê³  ìƒê°í•´ì„œ ìì‹ ì˜ ì•½í•œ ëª¨ìŠµì„ ìˆ¨ê¸°ë ¤ í•  ë•Œê°€ ìˆì–´ìš”. ë•Œë¡œëŠ” ì‰¬ì–´ê°€ëŠ” ê²ƒë„ í•„ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ì¸ì •í•˜ê¸° ì–´ë ¤ì›Œí•˜ì£ .",
                growth: "ì™„ë²½í•˜ì§€ ì•Šì•„ë„ ê´œì°®ë‹¤ëŠ” ê²ƒì„ ë°›ì•„ë“¤ì´ì„¸ìš”. ë‹¹ì‹ ì˜ ì§„ì§œ ê°•í•¨ì€ ì•½í•¨ì„ ì¸ì •í•  ìˆ˜ ìˆëŠ” ìš©ê¸°ì—ì„œ ë‚˜ì˜µë‹ˆë‹¤. ê°€ë”ì€ ë°©í–¥íƒ€ë¥¼ ë†“ê³  íŒŒë„ì— ëª¸ì„ ë§¡ê²¨ë³´ì„¸ìš”.",
                letter: "ê³ ìš”í•œ í˜ê³¼ ìš©ê°í•œ ë§ˆìŒì„ í•¨ê»˜ ê°€ì§„ ë‹¹ì‹ ì€ ì •ë§ ë“œë¬¸ ì¡´ì¬ì…ë‹ˆë‹¤.<br><br>í‰í™”ë¥¼ ì‚¬ë‘í•˜ë©´ì„œë„ <strong>í•„ìš”í•  ë•ŒëŠ” ì•ì¥ì„œëŠ” ìš©ê¸°</strong>ë¥¼ ê°€ì§„ ë‹¹ì‹ ì´ ë©‹ì ¸ìš”. ë‹¹ì‹ ë§Œì˜ ê· í˜•ê°ê°ì„ ê³„ì† ë¯¿ì–´ì£¼ì„¸ìš”."
            },
            "current-free": {
                title: "ììœ ë¡œìš´ í•´ë¥˜",
                subtitle: "ëŠì„ì—†ì´ íë¥´ë©° ìƒˆë¡œìš´ ê¸¸ì„ ë§Œë“œëŠ” ì˜í˜¼",
                essence: "ë³€í™”ë¥¼ ë‘ë ¤ì›Œí•˜ì§€ ì•ŠëŠ” ììœ ë¡œìš´ ë‹¹ì‹ ì€, ìƒˆë¡œìš´ ê²ƒì— ëŒ€í•œ í˜¸ê¸°ì‹¬ê³¼ ê³ ì •ê´€ë…ì— ì–½ë§¤ì´ì§€ ì•ŠëŠ” ìœ ì—°í•¨ì„ ê°€ì§„ ì‚¬ëŒì…ë‹ˆë‹¤.",
                light: "ë‹¹ì‹ ì€ ì„¸ìƒì— ìƒˆë¡œìš´ ë°”ëŒì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤. ì°½ì˜ì ì¸ ì•„ì´ë””ì–´ì™€ ì—´ë¦° ë§ˆìŒìœ¼ë¡œ ë§ì€ ì‚¬ëŒë“¤ì—ê²Œ ì˜ê°ì„ ì£¼ì–´ìš”. ë‹¹ì‹ ì´ ìˆëŠ” ê³³ì—ëŠ” ëŠ˜ ìƒˆë¡œìš´ ê°€ëŠ¥ì„±ì´ ì›€í‹‰ë‹ˆë‹¤.",
                shadow: "ë•Œë¡œëŠ” ë„ˆë¬´ ë§ì€ ë³€í™”ë¥¼ ì¶”êµ¬í•˜ë‹¤ê°€ ì •ì‘ ì¤‘ìš”í•œ ê²ƒì„ ë†“ì¹˜ê¸°ë„ í•´ìš”. ëŠì„ì—†ì´ ì›€ì§ì´ë‹¤ ë³´ë‹ˆ ì§€ì¹  ë•Œë„ ìˆê³ , í•œ ê³³ì— ê¹Šì´ ë¿Œë¦¬ë‚´ë¦¬ëŠ” ê²ƒì„ ì–´ë ¤ì›Œí•˜ê¸°ë„ í•˜ì£ .",
                growth: "ë³€í™”ë„ ì†Œì¤‘í•˜ì§€ë§Œ, ë•Œë¡œëŠ” ë©ˆì¶°ì„œ ê¹Šì´ ë“¤ì—¬ë‹¤ë³´ëŠ” ì‹œê°„ë„ í•„ìš”í•´ìš”. ììœ ë¡œì›€ ì†ì—ì„œë„ ìì‹ ë§Œì˜ ì¤‘ì‹¬ì„ ì°¾ì•„ë³´ì„¸ìš”. í˜ëŸ¬ê°€ëŠ” ê²ƒë§Œì´ ì „ë¶€ê°€ ì•„ë‹ˆë¼ëŠ” ê²ƒì„ ê¸°ì–µí•´ì£¼ì„¸ìš”.",
                letter: "ëì—†ì´ í˜ëŸ¬ê°€ë©° ìƒˆë¡œìš´ ê¸¸ì„ ë§Œë“¤ì–´ë‚´ëŠ” í•´ë¥˜ì²˜ëŸ¼, ë‹¹ì‹ ì€ ì„¸ìƒì— ë³€í™”ì™€ í™œë ¥ì„ ê°€ì ¸ë‹¤ì£¼ëŠ” ì†Œì¤‘í•œ ì¡´ì¬ì…ë‹ˆë‹¤.<br><br>ë‹¹ì‹ ì˜ <strong>ììœ ë¡œìš´ ì •ì‹ </strong>ì´ ë§ì€ ì‚¬ëŒë“¤ì—ê²Œ í¬ë§ê³¼ ê°€ëŠ¥ì„±ì„ ë³´ì—¬ì£¼ê³  ìˆì–´ìš”. ê·¸ íë¦„ì„ ë¯¿ê³  ê³„ì† ë‚˜ì•„ê°€ì„¸ìš”."
            },
            "abyss-wise": {
                title: "ì§€í˜œë¡œìš´ ì‹¬ì—°",
                subtitle: "ê¹Šì€ í†µì°°ë ¥ìœ¼ë¡œ ì§„ì‹¤ì„ íƒêµ¬í•˜ëŠ” ì˜í˜¼",
                essence: "í‘œë©´ì ì¸ ê²ƒì— ë§Œì¡±í•˜ì§€ ì•Šê³  ëŠ˜ ë” ê¹Šì€ ì˜ë¯¸ë¥¼ ì°¾ìœ¼ë ¤ í•˜ëŠ” ë‹¹ì‹ ì€, ë³µì¡í•œ ìƒí™©ë„ ë³¸ì§ˆì„ ê¿°ëš«ì–´ë³´ëŠ” ì§€í˜œë¥¼ ê°€ì§„ ì‚¬ëŒì…ë‹ˆë‹¤.",
                light: "ë‹¹ì‹ ì€ í˜¼ë€ìŠ¤ëŸ¬ìš´ ì„¸ìƒì—ì„œ ì§„ì‹¤ì„ ì°¾ì•„ë‚´ëŠ” íƒí—˜ê°€ì…ë‹ˆë‹¤. ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ ë†“ì¹˜ëŠ” ê²ƒë“¤ì„ ë°œê²¬í•˜ê³ , ë³µì¡í•œ ê°ì •ê³¼ ìƒí™©ì„ ì´í•´í•˜ëŠ” ëŠ¥ë ¥ì´ ë›°ì–´ë‚˜ìš”. ë‹¹ì‹ ì˜ í†µì°°ë ¥ì€ ë§ì€ ì‚¬ëŒë“¤ì—ê²Œ ë°©í–¥ì„ ì œì‹œí•´ì¤ë‹ˆë‹¤.",
                shadow: "ê¹Šì´ ìƒê°í•˜ë‹¤ ë³´ë‹ˆ ë•Œë¡œëŠ” ë¬´ê±°ìš´ ê°ì •ì— ì••ë„ë  ë•Œê°€ ìˆì–´ìš”. ëª¨ë“  ê²ƒì„ ì§„ì§€í•˜ê²Œ ë°›ì•„ë“¤ì—¬ì„œ ë‹¨ìˆœí•œ ì¦ê±°ì›€ì„ ë†“ì¹˜ê¸°ë„ í•˜ì£ . ë„ˆë¬´ ë§ì€ ê²ƒì„ ë³´ê³  ëŠë¼ë‹¤ ë³´ë‹ˆ í˜¼ìë§Œ ë¬´ê±°ìš´ ì§ì„ ì§€ëŠ” ê²ƒ ê°™ì„ ë•Œê°€ ìˆì–´ìš”.",
                growth: "ê¹Šì´ ìˆëŠ” ì‚¬ê³ ëŠ” ë‹¹ì‹ ì˜ í° ì¥ì ì´ì§€ë§Œ, ë•Œë¡œëŠ” ê°€ë²¼ìš´ ë§ˆìŒìœ¼ë¡œ ì„¸ìƒì„ ë°”ë¼ë´ë„ ì¢‹ì•„ìš”. ëª¨ë“  ê²ƒì— ì˜ë¯¸ë¥¼ ì°¾ìœ¼ë ¤ í•˜ì§€ ë§ê³ , ê·¸ì € ì¡´ì¬í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œë„ ì¶©ë¶„í•œ ìˆœê°„ë“¤ì„ í—ˆë½í•´ì£¼ì„¸ìš”.",
                letter: "ê°€ì¥ ê¹Šì€ ê³³ê¹Œì§€ íƒí—˜í•  ìš©ê¸°ë¥¼ ê°€ì§„ ë‹¹ì‹ ì€ ì§„ì •í•œ íƒí—˜ê°€ì…ë‹ˆë‹¤.<br><br>ë‹¹ì‹ ì˜ <strong>ê¹Šì€ ì§€í˜œ</strong>ê°€ í˜¼ë€ìŠ¤ëŸ¬ìš´ ì„¸ìƒì— ë°©í–¥ì„ ì œì‹œí•´ì£¼ê³  ìˆì–´ìš”. ê·¸ ê¹Šì´ë¥¼ ë‘ë ¤ì›Œí•˜ì§€ ë§ê³ , ë‹¹ì‹ ë§Œì´ ë°œê²¬í•  ìˆ˜ ìˆëŠ” ì§„ì‹¤ë“¤ì„ ê³„ì† ì°¾ì•„ê°€ì„¸ìš”."
            },
            "coral-brave": {
                title: "ì—­ë™ì ì¸ ì‚°í˜¸ì´ˆ",
                subtitle: "ëŠì„ì—†ì´ ì„±ì¥í•˜ë©° ìƒëª…ë ¥ì„ ë°œì‚°í•˜ëŠ” ì˜í˜¼",
                essence: "ì–´ë–¤ í™˜ê²½ì—ì„œë„ ì ì‘í•˜ë©° ì„±ì¥í•˜ëŠ” ë†€ë¼ìš´ ìƒëª…ë ¥ì„ ê°€ì§„ ë‹¹ì‹ ì€, ëª©í‘œë¥¼ í–¥í•´ ê¾¸ì¤€íˆ ë‚˜ì•„ê°€ëŠ” ì˜ì§€ë ¥ê³¼ ì£¼ë³€ ì‚¬ëŒë“¤ì„ ê²©ë ¤í•˜ëŠ” ë”°ëœ»í•¨ì„ ê°€ì§„ ì‚¬ëŒì…ë‹ˆë‹¤.",
                light: "ë‹¹ì‹ ì€ í¬ë§ê³¼ ì„±ì¥ì˜ ìƒì§•ì…ë‹ˆë‹¤. ì–´ë ¤ìš´ ìƒí™©ì—ì„œë„ í¬ê¸°í•˜ì§€ ì•ŠëŠ” ëˆê¸°ì™€ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì—ê²Œ ìš©ê¸°ë¥¼ ì£¼ëŠ” ì—ë„ˆì§€ê°€ ìˆì–´ìš”. ë‹¹ì‹ ì´ ìˆëŠ” ê³³ì€ ëŠ˜ í™œê¸°ì°¨ê³  ê¸ì •ì ì¸ ë¶„ìœ„ê¸°ê°€ í˜ëŸ¬ìš”.",
                shadow: "ë„ˆë¬´ ë§ì€ ê²ƒì„ ì™„ë²½í•˜ê²Œ í•˜ë ¤ë‹¤ê°€ ìŠ¤ìŠ¤ë¡œì—ê²Œ ê³¼ë„í•œ ì••ë°•ì„ ì£¼ê¸°ë„ í•´ìš”. ì‰¬ëŠ” ê²ƒì„ ê²Œìœ¼ë¦„ì´ë¼ê³  ìƒê°í•˜ê±°ë‚˜, ì„±ê³¼ê°€ ë°”ë¡œ ë‚˜ì˜¤ì§€ ì•Šìœ¼ë©´ ë¶ˆì•ˆí•´í•˜ê¸°ë„ í•˜ì£ . í•­ìƒ ë¬´ì–¸ê°€ë¥¼ ì´ë¤„ì•¼ í•œë‹¤ëŠ” ê°•ë°•ì´ ìˆì„ ìˆ˜ ìˆì–´ìš”.",
                growth: "ì„±ì¥ë„ ì¤‘ìš”í•˜ì§€ë§Œ, ì§€ê¸ˆ ì´ ìˆœê°„ì˜ ìì‹ ë„ ì¶©ë¶„íˆ ì†Œì¤‘í•˜ë‹¤ëŠ” ê²ƒì„ ê¸°ì–µí•˜ì„¸ìš”. ì™„ë²½í•˜ì§€ ì•Šì•„ë„ ê´œì°®ê³ , ë•Œë¡œëŠ” ê·¸ëƒ¥ ì‰¬ì–´ê°€ëŠ” ê²ƒë„ ì„±ì¥ì˜ í•œ ê³¼ì •ì´ë¼ëŠ” ê²ƒì„ ë°›ì•„ë“¤ì—¬ì£¼ì„¸ìš”.",
                letter: "ì–´ë–¤ í™˜ê²½ì—ì„œë„ ì•„ë¦„ë‹µê²Œ í”¼ì–´ë‚˜ëŠ” ì‚°í˜¸ì´ˆì²˜ëŸ¼, ë‹¹ì‹ ì€ í¬ë§ê³¼ ìƒëª…ë ¥ì˜ ìƒì§•ì…ë‹ˆë‹¤.<br><br>ë‹¹ì‹ ì˜ <strong>ëŠì„ì—†ëŠ” ì„±ì¥</strong>ê³¼ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì„ ì‘ì›í•˜ëŠ” ë§ˆìŒì´ ì„¸ìƒì„ ë” ë°ê²Œ ë§Œë“¤ì–´ì£¼ê³  ìˆì–´ìš”. ë‹¹ì‹ ì˜ ì†ë„ë¡œ ì²œì²œíˆ ìë¼ê°€ì„¸ìš”."
            }
        };

        // ë¡œë”© ë©”ì‹œì§€
        const loadingMessages = [
            "ë§ˆìŒì˜ ê¹Šì€ ê³³ì—ì„œ ë‹¹ì‹ ë§Œì˜ ë³´ë¬¼ì„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤",
            "ë‹¹ì‹ ì˜ ì§„ì‹¤í•œ ëª¨ìŠµì´ ì„œì„œíˆ ë“œëŸ¬ë‚˜ê³  ìˆì–´ìš”",
            "ì‹¬í•´ì—ì„œ ì˜¨ íŠ¹ë³„í•œ ë©”ì‹œì§€ë¥¼ ì¤€ë¹„í•˜ê³  ìˆìŠµë‹ˆë‹¤",
            "ë‹¹ì‹ ë§Œì˜ ê³ ìœ í•œ ë¹›ê¹”ì„ ì°¾ê³  ìˆì–´ìš”"
        ];

        // ë°°ê²½ íš¨ê³¼ ìƒì„±
        function createBackgroundEffects() {
            function createWaterDrop() {
                const drop = document.createElement('div');
                drop.className = 'water-drop';
                drop.style.left = Math.random() * 100 + 'vw';
                drop.style.animationDuration = (Math.random() * 3 + 4) + 's';
                drop.style.animationDelay = Math.random() * 2 + 's';
                document.body.appendChild(drop);
                
                setTimeout(() => {
                    if (drop.parentNode) drop.remove();
                }, 7000);
            }

            function createShootingStar() {
                const star = document.createElement('div');
                star.className = 'shooting-star';
                star.style.left = Math.random() * 50 + 'vw';
                star.style.top = Math.random() * 50 + 'vh';
                star.style.animationDuration = (Math.random() * 2 + 3) + 's';
                document.body.appendChild(star);
                
                setTimeout(() => {
                    if (star.parentNode) star.remove();
                }, 5000);
            }

            setInterval(createWaterDrop, 2000);
            setInterval(createShootingStar, 8000);
            
            for(let i = 0; i < 3; i++) {
                setTimeout(createWaterDrop, i * 800);
            }
        }

        // í–¥ìƒëœ ì˜¤ë””ì˜¤ ì‹œìŠ¤í…œ
        function createOceanSound() {
            try {
                if (!audioContext) {
                    audioContext = new (window.AudioContext || window.webkitAudioContext)();
                }
                
                currentOscillators.forEach(osc => {
                    try { osc.stop(); } catch(e) {}
                });
                currentOscillators = [];
                
                const frequencies = [60, 120, 180, 240];
                const gainNode = audioContext.createGain();
                gainNode.gain.value = 0.08;
                
                frequencies.forEach((freq, index) => {
                    const oscillator = audioContext.createOscillator();
                    const oscGain = audioContext.createGain();
                    
                    oscillator.type = 'sine';
                    oscillator.frequency.value = freq;
                    oscGain.gain.value = 0.3 / (index + 1);
                    
                    const lfo = audioContext.createOscillator();
                    const lfoGain = audioContext.createGain();
                    lfo.type = 'sine';
                    lfo.frequency.value = 0.1 + (index * 0.05);
                    lfoGain.gain.value = freq * 0.1;
                    
                    lfo.connect(lfoGain);
                    lfoGain.connect(oscillator.frequency);
                    
                    oscillator.connect(oscGain);
                    oscGain.connect(gainNode);
                    
                    oscillator.start();
                    lfo.start();
                    
                    currentOscillators.push(oscillator, lfo);
                });
                
                gainNode.connect(audioContext.destination);
                return gainNode;
            } catch (e) {
                console.log('ì˜¤ë””ì˜¤ ìƒì„± ì‹¤íŒ¨:', e);
                return null;
            }
        }

        function initAudio() {
            const audioControl = document.getElementById('audioControl');
            const audioIcon = document.getElementById('audioIcon');
            
            audioControl.addEventListener('click', async () => {
                if (!isMusicPlaying) {
                    if (audioContext && audioContext.state === 'suspended') {
                        await audioContext.resume();
                    }
                    
                    const gainNode = createOceanSound();
                    if (gainNode) {
                        isMusicPlaying = true;
                        audioIcon.textContent = 'ğŸŒŠ';
                        audioControl.classList.add('playing');
                    }
                } else {
                    currentOscillators.forEach(osc => {
                        try { osc.stop(); } catch(e) {}
                    });
                    currentOscillators = [];
                    isMusicPlaying = false;
                    audioIcon.textContent = 'ğŸµ';
                    audioControl.classList.remove('playing');
                }
            });
        }

        // í•µì‹¬ í•¨ìˆ˜ë“¤
        function startJourney() {
            gameState.isTransitioning = false;
            showStory();
        }

        function showStory() {
            if (gameState.currentStory < stories.length) {
                const story = stories[gameState.currentStory];
                document.getElementById('storyTitle').textContent = story.title;
                document.getElementById('storyText').innerHTML = story.text;
                
                showScreen('storyScreen');
                gameState.currentStory++;
            } else {
                showQuestion();
            }
        }

        function continueJourney() {
            gameState.isTransitioning = false;
            
            if (gameState.currentDepth < questions.length) {
                showQuestion();
            } else {
                showStory();
            }
        }

        function showQuestion() {
            if (gameState.currentDepth >= questions.length) {
                showLoading();
                return;
            }

            const question = questions[gameState.currentDepth];
            
            const progress = ((gameState.currentDepth + 1) / questions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('depthIndicator').textContent = `ìˆ˜ì‹¬ ${question.depth}m`;
            
            document.getElementById('questionText').textContent = question.text;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'option-btn';
                button.textContent = option.text;
                button.setAttribute('data-type', option.type);
                button.setAttribute('data-index', index);
                
                button.addEventListener('click', function() {
                    handleOptionClick(option.type, index);
                });
                
                optionsContainer.appendChild(button);
            });
            
            showScreen('questionScreen');
            gameState.isTransitioning = false;
        }

        function handleOptionClick(type, index) {
            if (gameState.isTransitioning) return;
            
            gameState.isTransitioning = true;

            const buttons = document.querySelectorAll('.option-btn');
            buttons.forEach((btn, i) => {
                btn.disabled = true;
                btn.style.pointerEvents = 'none';
                if (i !== index) {
                    btn.style.opacity = '0.3';
                } else {
                    btn.classList.add('selected');
                }
            });
            
            if (gameState.scores.hasOwnProperty(type)) {
                gameState.scores[type]++;
            }
            gameState.responses.push(type);
            
            setTimeout(() => {
                gameState.currentDepth++;
                
                if (gameState.currentDepth < questions.length) {
                    if (gameState.currentDepth % 3 === 0 && gameState.currentStory < stories.length) {
                        showStory();
                    } else {
                        showQuestion();
                    }
                } else {
                    showLoading();
                }
            }, 400);
        }

        function showLoading() {
            const messages = loadingMessages;
            let messageIndex = 0;
            
            const messageElement = document.getElementById('loadingMessage');
            messageElement.textContent = messages[messageIndex];
            
            showScreen('loadingScreen');
            
            const interval = setInterval(() => {
                messageIndex = (messageIndex + 1) % messages.length;
                messageElement.textContent = messages[messageIndex];
            }, 2000);
            
            setTimeout(() => {
                clearInterval(interval);
                showResult();
            }, 6000);
        }

        function showResult() {
            const resultKey = calculateResultType();
            const result = results[resultKey] || results["pearl-gentle"];
            
            document.getElementById('resultTitle').textContent = result.title;
            document.getElementById('resultSubtitle').textContent = result.subtitle;
            document.getElementById('essenceText').textContent = result.essence;
            document.getElementById('lightSide').textContent = result.light;
            document.getElementById('shadowSide').textContent = result.shadow;
            document.getElementById('growthPath').textContent = result.growth;
            document.getElementById('letterContent').innerHTML = result.letter;
            
            showScreen('resultScreen');
            
            window.mindDiveResult = {
                type: resultKey,
                result: result,
                responses: gameState.responses,
                scores: gameState.scores,
                timestamp: new Date().toISOString()
            };
        }

        function calculateResultType() {
            const scores = gameState.scores;
            
            const mainTypes = ['pearl', 'current', 'abyss', 'coral'];
            const subTypes = ['gentle', 'brave', 'wise', 'free'];
            
            const mainMax = Math.max(...mainTypes.map(type => scores[type]));
            const subMax = Math.max(...subTypes.map(type => scores[type]));
            
            const mainType = mainTypes.find(type => scores[type] === mainMax);
            const subType = subTypes.find(type => scores[type] === subMax);
            
            const resultKey = `${mainType}-${subType}`;
            
            if (results[resultKey]) {
                return resultKey;
            }
            
            const alternatives = [
                `${subType}-${mainType}`,
                mainType + '-gentle',
                'pearl-gentle'
            ];
            
            for (const alt of alternatives) {
                if (results[alt]) {
                    return alt;
                }
            }
            
            return 'pearl-gentle';
        }

        function showScreen(screenId) {
            try {
                const allScreens = document.querySelectorAll('.screen');
                allScreens.forEach(screen => {
                    screen.classList.add('hidden');
                });
                
                const targetScreen = document.getElementById(screenId);
                if (targetScreen) {
                    targetScreen.classList.remove('hidden');
                    window.scrollTo(0, 0);
                }
            } catch (e) {
                console.error('í™”ë©´ ì „í™˜ ì¤‘ ì˜¤ë¥˜:', e);
            }
        }

        function shareKakao() {
            const resultData = window.mindDiveResult;
            if (resultData) {
                const text = `MIND DIVEì—ì„œ ë°œê²¬í•œ ë‚˜ì˜ ëª¨ìŠµ: ${resultData.result.title}\n\n${resultData.result.subtitle}\n\në‹¹ì‹ ë„ ë§ˆìŒì˜ ì‹¬í•´ë¡œ ì—¬í–‰ì„ ë– ë‚˜ë³´ì„¸ìš”.`;
                
                if (typeof Kakao !== 'undefined' && Kakao.Link) {
                    Kakao.Link.sendDefault({
                        objectType: 'text',
                        text: text,
                        link: {
                            mobileWebUrl: window.location.href,
                            webUrl: window.location.href,
                        },
                    });
                } else {
