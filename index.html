<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIND DIVE</title>
    <meta name="description" content="ë‹¹ì‹ ì˜ ë§ˆìŒ ê¹Šì€ ê³³ì— ìˆ¨ê²¨ì§„ ì§„ì§œ ëª¨ìŠµì„ ì°¾ì•„ì„œ">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600&family=Noto+Serif+KR:wght@300;400&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: #0a0f1b;
            color: #e8ecf1;
            line-height: 1.65;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
        }

        /* ë°°ê²½ íš¨ê³¼ */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 50%, rgba(59, 130, 246, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(99, 102, 241, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 40% 20%, rgba(139, 92, 246, 0.05) 0%, transparent 50%);
            pointer-events: none;
            z-index: 1;
        }

        /* ë¬¼ê²° ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes wave {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .container {
            max-width: 420px;
            margin: 0 auto;
            padding: 24px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            z-index: 2;
        }

        /* ì‹œì‘ í™”ë©´ */
        .screen {
            animation: fadeIn 0.8s ease;
        }

        .logo {
            text-align: center;
            margin-bottom: 48px;
        }

        .logo h1 {
            font-size: 2.5rem;
            font-weight: 600;
            letter-spacing: -0.03em;
            background: linear-gradient(135deg, #60a5fa 0%, #818cf8 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 8px;
        }

        .logo p {
            font-size: 0.95rem;
            color: #94a3b8;
            font-weight: 300;
        }

        .intro-text {
            font-family: 'Noto Serif KR', serif;
            font-size: 1.05rem;
            line-height: 1.8;
            color: #cbd5e1;
            text-align: center;
            margin-bottom: 48px;
            font-weight: 300;
        }

        .intro-text em {
            font-style: normal;
            color: #e8ecf1;
            font-weight: 400;
        }

        .btn-primary {
            width: 100%;
            padding: 18px 32px;
            background: linear-gradient(135deg, #3b82f6 0%, #6366f1 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn-primary:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 24px rgba(59, 130, 246, 0.3);
        }

        /* ì§„í–‰ ìƒíƒœ */
        .progress-section {
            margin-bottom: 40px;
        }

        .depth-indicator {
            font-size: 0.85rem;
            color: #64748b;
            text-align: center;
            margin-bottom: 16px;
            font-weight: 400;
            letter-spacing: 0.05em;
            text-transform: uppercase;
        }

        .progress-bar {
            height: 3px;
            background: rgba(148, 163, 184, 0.2);
            border-radius: 3px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6 0%, #6366f1 100%);
            border-radius: 3px;
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            width: 100px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3));
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100px); }
            100% { transform: translateX(100px); }
        }

        /* ì§ˆë¬¸ ì¹´ë“œ */
        .question-card {
            background: rgba(30, 41, 59, 0.5);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(148, 163, 184, 0.1);
            border-radius: 16px;
            padding: 32px 28px;
            margin-bottom: 32px;
        }

        .question-text {
            font-family: 'Noto Serif KR', serif;
            font-size: 1.25rem;
            line-height: 1.7;
            color: #f1f5f9;
            text-align: center;
            font-weight: 400;
        }

        /* ì„ íƒì§€ */
        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option-btn {
            background: rgba(30, 41, 59, 0.3);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(148, 163, 184, 0.15);
            border-radius: 12px;
            padding: 20px 24px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: left;
            color: #e2e8f0;
            font-size: 0.95rem;
            line-height: 1.6;
            position: relative;
            overflow: hidden;
        }

        .option-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(99, 102, 241, 0.1), transparent);
            transition: left 0.5s;
        }

        .option-btn:hover::before {
            left: 100%;
        }

        .option-btn:hover {
            background: rgba(30, 41, 59, 0.5);
            border-color: rgba(99, 102, 241, 0.3);
            transform: translateX(4px);
        }

        .option-btn.selected {
            background: rgba(99, 102, 241, 0.15);
            border-color: rgba(99, 102, 241, 0.5);
        }

        /* ë¡œë”© í™”ë©´ */
        .loading-container {
            text-align: center;
            padding: 60px 0;
        }

        .wave-loader {
            display: inline-flex;
            gap: 8px;
            margin-bottom: 32px;
        }

        .wave-dot {
            width: 8px;
            height: 8px;
            background: #60a5fa;
            border-radius: 50%;
            animation: wave 1.4s ease-in-out infinite;
        }

        .wave-dot:nth-child(2) { animation-delay: 0.2s; }
        .wave-dot:nth-child(3) { animation-delay: 0.4s; }
        .wave-dot:nth-child(4) { animation-delay: 0.6s; }
        .wave-dot:nth-child(5) { animation-delay: 0.8s; }

        .loading-message {
            font-family: 'Noto Serif KR', serif;
            font-size: 1rem;
            line-height: 1.8;
            color: #94a3b8;
            font-weight: 300;
        }

        /* ê²°ê³¼ í™”ë©´ */
        .result-header {
            text-align: center;
            margin-bottom: 48px;
        }

        .result-badge {
            display: inline-block;
            padding: 6px 16px;
            background: rgba(99, 102, 241, 0.1);
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: 20px;
            font-size: 0.8rem;
            color: #a5b4fc;
            margin-bottom: 16px;
            font-weight: 500;
            letter-spacing: 0.05em;
        }

        .result-title {
            font-family: 'Noto Serif KR', serif;
            font-size: 2rem;
            font-weight: 400;
            line-height: 1.3;
            color: #f8fafc;
            margin-bottom: 12px;
        }

        .result-subtitle {
            font-size: 1rem;
            color: #94a3b8;
            font-weight: 300;
            line-height: 1.6;
        }

        .result-section {
            background: rgba(30, 41, 59, 0.3);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(148, 163, 184, 0.1);
            border-radius: 16px;
            padding: 28px;
            margin-bottom: 20px;
        }

        .result-section h3 {
            font-size: 1.1rem;
            font-weight: 500;
            color: #e8ecf1;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .result-section p {
            font-size: 0.95rem;
            line-height: 1.8;
            color: #cbd5e1;
            font-weight: 300;
        }

        .letter-section {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, rgba(99, 102, 241, 0.05) 100%);
            border: 1px solid rgba(99, 102, 241, 0.15);
            position: relative;
            overflow: hidden;
        }

        .letter-section::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(99, 102, 241, 0.05) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .letter-content {
            font-family: 'Noto Serif KR', serif;
            font-size: 1rem;
            line-height: 1.9;
            color: #e8ecf1;
            position: relative;
            z-index: 1;
        }

        .letter-content strong {
            color: #a5b4fc;
            font-weight: 400;
        }

        /* ê³µìœ  ë²„íŠ¼ */
        .action-buttons {
            display: flex;
            gap: 12px;
            margin-top: 32px;
        }

        .btn-secondary {
            flex: 1;
            padding: 14px 24px;
            background: rgba(30, 41, 59, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(148, 163, 184, 0.2);
            border-radius: 12px;
            color: #e2e8f0;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .btn-secondary:hover {
            background: rgba(30, 41, 59, 0.7);
            border-color: rgba(148, 163, 184, 0.3);
        }

        .btn-text {
            display: block;
            margin: 24px auto 0;
            background: none;
            border: none;
            color: #64748b;
            font-size: 0.9rem;
            cursor: pointer;
            transition: color 0.3s;
        }

        .btn-text:hover {
            color: #94a3b8;
        }

        /* ìˆ¨ê¹€ */
        .hidden {
            display: none !important;
        }

        /* ëª¨ë°”ì¼ ìµœì í™” */
        @media (max-width: 480px) {
            .container {
                padding: 20px;
            }

            .logo h1 {
                font-size: 2.2rem;
            }

            .question-text {
                font-size: 1.15rem;
            }

            .result-title {
                font-size: 1.75rem;
            }

            .option-btn {
                padding: 18px 20px;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="screen" id="welcomeScreen">
            <div class="logo">
                <h1>MIND DIVE</h1>
                <p>ë§ˆìŒì˜ ì‹¬í•´ë¡œ ë– ë‚˜ëŠ” ì—¬í–‰</p>
            </div>
            
            <div class="intro-text">
                ê°€ì¥ ê¹Šì€ ë°”ë‹¤ ì†ì—ëŠ”<br>
                ì•„ì§ ë°œê²¬ë˜ì§€ ì•Šì€ ìƒëª…ì²´ë“¤ì´ ì‚´ê³  ìˆìŠµë‹ˆë‹¤.<br><br>
                
                ë‹¹ì‹ ì˜ ë§ˆìŒë„ ë§ˆì°¬ê°€ì§€ì˜ˆìš”.<br>
                í‘œë©´ ì•„ë˜ ê¹Šì€ ê³³ì—ëŠ”<br>
                <em>ì•„ì§ ë§Œë‚˜ì§€ ëª»í•œ ë‹¹ì‹ </em>ì´ ê¸°ë‹¤ë¦¬ê³  ìˆìŠµë‹ˆë‹¤.<br><br>
                
                ì§€ê¸ˆë¶€í„° í•¨ê»˜ ì ìˆ˜í•´ë³¼ê¹Œìš”?
            </div>
            
            <button class="btn-primary" id="startButton">ì‹¬í•´ë¡œ ì ìˆ˜í•˜ê¸°</button>
        </div>

        <div class="screen hidden" id="questionScreen">
            <div class="progress-section">
                <div class="depth-indicator" id="depthIndicator">ìˆ˜ì‹¬ 0m</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>
            
            <div class="question-card">
                <div class="question-text" id="questionText"></div>
            </div>
            
            <div class="options" id="optionsContainer"></div>
        </div>

        <div class="screen hidden" id="loadingScreen">
            <div class="loading-container">
                <div class="wave-loader">
                    <div class="wave-dot"></div>
                    <div class="wave-dot"></div>
                    <div class="wave-dot"></div>
                    <div class="wave-dot"></div>
                    <div class="wave-dot"></div>
                </div>
                <div class="loading-message" id="loadingMessage">
                    ì‹¬í•´ì—ì„œ ë¬´ì–¸ê°€ë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤...
                </div>
            </div>
        </div>

        <div class="screen hidden" id="resultScreen">
            <div class="result-header">
                <div class="result-badge">DEEP SEA DISCOVERY</div>
                <h2 class="result-title" id="resultTitle"></h2>
                <p class="result-subtitle" id="resultSubtitle"></p>
            </div>

            <div class="result-section">
                <h3>âœ¨ ë¹›ì´ ë‹¿ëŠ” ê³³</h3>
                <p id="lightSide"></p>
            </div>

            <div class="result-section">
                <h3>ğŸŒ‘ ê·¸ë¦¼ìê°€ ë“œë¦¬ìš´ ê³³</h3>
                <p id="shadowSide"></p>
            </div>

            <div class="result-section letter-section">
                <div class="letter-content" id="letterContent"></div>
            </div>

            <div class="action-buttons">
                <button class="btn-secondary" onclick="shareResult()">ë°œê²¬ ê³µìœ í•˜ê¸°</button>
                <button class="btn-secondary" onclick="copyLink()">ë§í¬ ë³µì‚¬</button>
            </div>

            <button class="btn-text" onclick="restartDive()">ë‹¤ì‹œ ì ìˆ˜í•˜ê¸°</button>
        </div>
    </div>

    <script>
        // DOM ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
        const startButton = document.getElementById('startButton');
        const welcomeScreen = document.getElementById('welcomeScreen');
        const questionScreen = document.getElementById('questionScreen');
        const loadingScreen = document.getElementById('loadingScreen');
        const resultScreen = document.getElementById('resultScreen');

        const depthIndicator = document.getElementById('depthIndicator');
        const progressFill = document.getElementById('progressFill');
        const questionText = document.getElementById('questionText');
        const optionsContainer = document.getElementById('optionsContainer');
        
        const resultTitle = document.getElementById('resultTitle');
        const resultSubtitle = document.getElementById('resultSubtitle');
        const lightSide = document.getElementById('lightSide');
        const shadowSide = document.getElementById('shadowSide');
        const letterContent = document.getElementById('letterContent');

        // ìƒíƒœ ê´€ë¦¬
        let currentQuestionIndex = 0;
        let scores = {
            pearl: 0,
            current: 0,
            abyss: 0,
            coral: 0
        };

        // ì§ˆë¬¸ ë°ì´í„°
        const questions = [
            {
                depth: 0,
                text: "ìˆ˜ë©´ì— ë¹„ì¹œ ë‹¹ì‹ ì˜ ëª¨ìŠµì€\nì–´ë–¤ í‘œì •ì„ í•˜ê³  ìˆë‚˜ìš”?",
                options: [
                    { text: "ì¡°ìš©íˆ ë¯¸ì†Œ ì§“ê³  ìˆì–´ìš”", type: "pearl" },
                    { text: "ë¬´ì–¸ê°€ë¥¼ ê¸°ëŒ€í•˜ëŠ” ëˆˆë¹›ì´ì—ìš”", type: "coral" },
                    { text: "ê¹Šì€ ìƒê°ì— ì ê²¨ ìˆì–´ìš”", type: "abyss" },
                    { text: "ëŠì„ì—†ì´ ë³€í•˜ê³  ìˆì–´ìš”", type: "current" }
                ]
            },
            {
                depth: 50,
                text: "ë¹›ì´ í¬ë¯¸í•´ì§€ëŠ” ìˆ˜ì‹¬.\në¶ˆì•ˆí•  ë•Œ ë‹¹ì‹ ì€?",
                options: [
                    { text: "ì°¨ë¶„íˆ ìˆ¨ì„ ê³ ë¥´ë©° ê¸°ë‹¤ë ¤ìš”", type: "pearl" },
                    { text: "ë¬¸ì œë¥¼ í•´ê²°í•  ë°©ë²•ì„ ì°¾ì•„ìš”", type: "coral" },
                    { text: "ë¶ˆì•ˆì˜ ì›ì¸ì„ ê¹Šì´ íŒŒí—¤ì³ìš”", type: "abyss" },
                    { text: "ë‹¤ë¥¸ ê²ƒì— ì§‘ì¤‘í•˜ë ¤ ë…¸ë ¥í•´ìš”", type: "current" }
                ]
            },
            {
                depth: 150,
                text: "ì••ë ¥ì´ ëŠê»´ì§€ê¸° ì‹œì‘í•©ë‹ˆë‹¤.\nê°€ì¥ ê²¬ë””ê¸° í˜ë“  ìˆœê°„ì€?",
                options: [
                    { text: "ë‚˜ë¥¼ ì´í•´í•´ì£¼ëŠ” ì‚¬ëŒì´ ì—†ì„ ë•Œ", type: "pearl" },
                    { text: "ëª©í‘œë¥¼ ì´ë£¨ì§€ ëª»í–ˆì„ ë•Œ", type: "coral" },
                    { text: "ë‚˜ ìì‹ ì´ ë‚¯ì„¤ê²Œ ëŠê»´ì§ˆ ë•Œ", type: "abyss" },
                    { text: "ì„ íƒì˜ ê¸°ë¡œì— ì„œ ìˆì„ ë•Œ", type: "current" }
                ]
            },
            {
                depth: 300,
                text: "ì–´ë‘ ì´ ë‹¹ì‹ ì„ ê°ìŒ‰ë‹ˆë‹¤.\në‘ë ¤ì›€ì˜ ì •ì²´ëŠ” ë¬´ì—‡ì¸ê°€ìš”?",
                options: [
                    { text: "ì†Œì¤‘í•œ ê²ƒì„ ìƒëŠ” ê²ƒ", type: "pearl" },
                    { text: "ì•„ë¬´ê²ƒë„ ì´ë£¨ì§€ ëª»í•˜ëŠ” ê²ƒ", type: "coral" },
                    { text: "ì§„ì§œ ë‚˜ë¥¼ ë§ˆì£¼í•˜ëŠ” ê²ƒ", type: "abyss" },
                    { text: "ë³€í•˜ì§€ ëª»í•˜ê³  ë©ˆì¶°ìˆëŠ” ê²ƒ", type: "current" }
                ]
            },
            {
                depth: 500,
                text: "ê³ ìš”í•œ ì‹¬í•´.\nì—¬ê¸°ì„œ ì°¾ê³  ì‹¶ì€ ê²ƒì€?",
                options: [
                    { text: "ìƒì–´ë²„ë¦° í‰ì˜¨í•¨", type: "pearl" },
                    { text: "ìˆ¨ê²¨ì§„ ê°€ëŠ¥ì„±", type: "coral" },
                    { text: "ì¡´ì¬ì˜ ì˜ë¯¸", type: "abyss" },
                    { text: "ìƒˆë¡œìš´ ì‹œì‘ì ", type: "current" }
                ]
            },
            {
                depth: 800,
                text: "ì••ë„ì ì¸ ì •ì .\në‹¹ì‹ ì˜ ë‚´ë©´ì˜ ëª©ì†Œë¦¬ëŠ”?",
                options: [
                    { text: "\"ê´œì°®ì•„, ì²œì²œíˆ ê°€ë„ ë¼\"", type: "pearl" },
                    { text: "\"ë” ê°•í•´ì§ˆ ìˆ˜ ìˆì–´\"", type: "coral" },
                    { text: "\"ì§„ì‹¤ì„ ë§ˆì£¼í•´ì•¼ í•´\"", type: "abyss" },
                    { text: "\"ë³€í™”ë¥¼ ë°›ì•„ë“¤ì—¬\"", type: "current" }
                ]
            },
            {
                depth: 1200,
                text: "ì‹¬í•´ì˜ ë°”ë‹¥ì´ ê°€ê¹Œì›Œì§‘ë‹ˆë‹¤.\nê°€ì¥ ì†Œì¤‘í•œ ê²ƒì€?",
                options: [
                    { text: "ë§ˆìŒì˜ í‰í™”", type: "pearl" },
                    { text: "ëŠì„ì—†ëŠ” ì„±ì¥", type: "coral" },
                    { text: "ì§„ì •í•œ ì´í•´", type: "abyss" },
                    { text: "ììœ ë¡œìš´ ì˜í˜¼", type: "current" }
                ]
            },
            {
                depth: 1500,
                text: "ë§ˆì¹¨ë‚´ ë°”ë‹¥ì— ë„ì°©í–ˆìŠµë‹ˆë‹¤.\nì—¬ê¸°ì„œ ë°œê²¬í•œ ê²ƒì€?",
                options: [
                    { text: "ë¹›ë‚˜ëŠ” ì§„ì£¼", type: "pearl" },
                    { text: "ì‚´ì•„ìˆëŠ” ì‚°í˜¸", type: "coral" },
                    { text: "ê¹Šì€ ê· ì—´", type: "abyss" },
                    { text: "ë”°ëœ»í•œ í•´ë¥˜", type: "current" }
                ]
            }
        ];

        // ê²°ê³¼ ë°ì´í„°
        const results = {
            pearl: {
                title: "ì‹¬í•´ì˜ ì§„ì£¼",
                subtitle: "ê³ ìš”í•¨ ì†ì—ì„œ ë¹›ì„ í’ˆì€ ì˜í˜¼",
                light: "ë‹¹ì‹ ì€ í­í’ìš° ì†ì—ì„œë„ ì¤‘ì‹¬ì„ ìƒì§€ ì•ŠëŠ” ì‚¬ëŒì…ë‹ˆë‹¤. ì£¼ë³€ì´ ì•„ë¬´ë¦¬ í˜¼ë€ìŠ¤ëŸ¬ì›Œë„ ë‚´ë©´ì˜ í‰í™”ë¥¼ ìœ ì§€í•  ì¤„ ì•„ëŠ” ëŠ¥ë ¥ì€ ë‹¹ì‹ ì˜ ê°€ì¥ í° ê°•ì ì´ì—ìš”. ì‚¬ëŒë“¤ì€ ë‹¹ì‹ ì˜ ì°¨ë¶„í•¨ì—ì„œ ìœ„ì•ˆì„ ì°¾ê³ , ë‹¹ì‹ ì˜ ì¡°ìš©í•œ ì§€í˜œì—ì„œ ë‹µì„ ì–»ìŠµë‹ˆë‹¤.",
                shadow: "ë•Œë¡œëŠ” ë„ˆë¬´ ë§ì€ ê²ƒì„ í˜¼ì í’ˆìœ¼ë ¤ í•©ë‹ˆë‹¤. ëª¨ë“  ìƒì²˜ì™€ ì•„í””ì„ ì¡°ìš©íˆ ê°ì‹¸ì•ˆë‹¤ê°€ ì •ì‘ ìì‹ ì€ ëŒë³´ì§€ ëª»í•  ë•Œê°€ ìˆì–´ìš”. ë‹¹ì‹ ì˜ ê³ ìš”í•¨ì´ ë•Œë¡œëŠ” ê³ ë¦½ìœ¼ë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ê¸°ì–µí•˜ì„¸ìš”.",
                letter: "ì‹¬í•´ì— ì ë“  ì§„ì£¼ì²˜ëŸ¼, ë‹¹ì‹ ì€ ì–´ë‘  ì†ì—ì„œë„ ë¹›ì„ ìƒì§€ ì•ŠëŠ” ì‚¬ëŒì…ë‹ˆë‹¤.<br><br>ë‹¹ì‹ ì˜ ê³ ìš”í•¨ì€ ë‚˜ì•½í•¨ì´ ì•„ë‹ˆë¼ <strong>ê°€ì¥ ê¹Šì€ ê³³ì—ì„œ ë‚˜ì˜¤ëŠ” í˜</strong>ì´ì—ìš”. ì„¸ìƒì´ ë‹¹ì‹ ì—ê²Œ ë” ë¹ ë¥´ê²Œ, ë” í¬ê²Œ ë°˜ì‘í•˜ë¼ê³  ìš”êµ¬í•´ë„, ë‹¹ì‹ ë§Œì˜ ì†ë„ë¡œ ê±¸ì–´ê°€ì„¸ìš”.<br><br>ì§„ì£¼ê°€ ëª¨ë˜ì•Œì˜ ì•„í””ì—ì„œ ì‹œì‘ë˜ë“¯, ë‹¹ì‹ ì˜ ìƒì²˜ë“¤ë„ ì–¸ì  ê°€ëŠ” ì•„ë¦„ë‹¤ìš´ ë¹›ì´ ë  ê±°ì˜ˆìš”. ê·¸ ê³¼ì •ì„ ì„œë‘ë¥´ì§€ ë§ˆì„¸ìš”.<br><br>ê°€ë”ì€ ë‹¹ì‹ ì˜ ë¹›ì„ í•„ìš”ë¡œ í•˜ëŠ” ì‚¬ëŒë“¤ì—ê²Œ ë§ˆìŒì„ ì—´ì–´ì£¼ì„¸ìš”. ë‹¹ì‹ ì´ ìƒê°í•˜ëŠ” ê²ƒë³´ë‹¤ í›¨ì”¬ ë§ì€ ì‚¬ëŒë“¤ì´ ë‹¹ì‹ ì˜ ì¡´ì¬ì— ê°ì‚¬í•˜ê³  ìˆë‹µë‹ˆë‹¤."
            },
            current: {
                title: "ì‹¬í•´ì˜ í•´ë¥˜",
                subtitle: "ëŠì„ì—†ì´ íë¥´ë©° ë³€í™”í•˜ëŠ” ì˜í˜¼",
                light: "ë‹¹ì‹ ì€ ì •ì²´ë˜ì§€ ì•ŠëŠ” ì‚¶ì„ ì‚´ì•„ê°‘ë‹ˆë‹¤. ìƒˆë¡œìš´ ê²½í—˜ì„ ë‘ë ¤ì›Œí•˜ì§€ ì•Šê³ , ë³€í™”ë¥¼ ê¸°íšŒë¡œ ë§Œë“¤ ì¤„ ì•„ëŠ” ìœ ì—°í•¨ì´ ìˆì–´ìš”. ë‹¹ì‹ ì˜ ì ì‘ë ¥ê³¼ ì°½ì˜ì„±ì€ ë§‰íŒ ê³³ì— ìƒˆë¡œìš´ ê¸¸ì„ ë§Œë“¤ì–´ë‚´ëŠ” í˜ì´ ë©ë‹ˆë‹¤.",
                shadow: "ê³„ì† ì›€ì§ì´ë‹¤ ë³´ë‹ˆ ë•Œë¡œëŠ” ë°©í–¥ì„ ìƒì„ ë•Œê°€ ìˆìŠµë‹ˆë‹¤. ë³€í™” ìì²´ê°€ ëª©ì ì´ ë˜ì–´ë²„ë ¤, ì •ì‘ ì¤‘ìš”í•œ ê²ƒì„ ë†“ì¹˜ê¸°ë„ í•´ìš”. ëª¨ë“  ê²ƒì„ ë°”ê¾¸ë ¤ë‹¤ê°€ ì•„ë¬´ê²ƒë„ ì™„ì„±í•˜ì§€ ëª»í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì¡°ì‹¬í•˜ì„¸ìš”.",
                letter: "ê¹Šì€ ë°”ë‹¤ë¥¼ ìˆœí™˜í•˜ëŠ” í•´ë¥˜ì²˜ëŸ¼, ë‹¹ì‹ ì€ ì„¸ìƒì— ìƒëª…ì„ ë¶ˆì–´ë„£ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤.<br><br>ë‹¹ì‹ ì˜ ë³€í™”ëŠ” ë³€ë•ì´ ì•„ë‹ˆë¼ <strong>ì‚´ì•„ìˆë‹¤ëŠ” ì¦ê±°</strong>ì˜ˆìš”. ë©ˆì¶°ìˆëŠ” ë¬¼ì´ ì©ë“¯ì´, ê³„ì† íë¥´ëŠ” ë‹¹ì‹ ì˜ ë³¸ì„±ì€ ë‹¹ì‹ ì„ í•­ìƒ ì‹ ì„ í•˜ê²Œ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.<br><br>ë‹¤ë§Œ ê°€ë”ì€ ì ì‹œ ë©ˆì¶°ì„œ ì§€ë‚˜ì˜¨ ê¸¸ì„ ëŒì•„ë³´ì„¸ìš”. ë‹¹ì‹ ì´ ë§Œë“¤ì–´ë‚¸ ë³€í™”ë“¤ì´ ì–¼ë§ˆë‚˜ ì•„ë¦„ë‹¤ìš´ì§€, ë‹¹ì‹ ì´ í˜ëŸ¬ê°€ë©° ë§Œë‚œ í’ê²½ë“¤ì´ ì–¼ë§ˆë‚˜ ì†Œì¤‘í•œì§€ë¥¼ ëŠê»´ë³´ì„¸ìš”.<br><br>í•´ë¥˜ê°€ ëŒ€ë¥™ì„ ì—°ê²°í•˜ë“¯, ë‹¹ì‹ ë„ ì‚¬ëŒê³¼ ì‚¬ëŒì„, ê³¼ê±°ì™€ ë¯¸ë˜ë¥¼ ì—°ê²°í•˜ëŠ” íŠ¹ë³„í•œ ì¡´ì¬ì…ë‹ˆë‹¤."
            },
            abyss: {
                title: "ì‹¬í•´ì˜ ì‹¬ì—°",
                subtitle: "ê¹Šì´ë¥¼ ë‘ë ¤ì›Œí•˜ì§€ ì•ŠëŠ” ì˜í˜¼",
                light: "ë‹¹ì‹ ì€ í‘œë©´ì ì¸ ê²ƒì— ë§Œì¡±í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë¶ˆí¸í•œ ì§„ì‹¤ë„ ë§ˆì£¼í•  ìš©ê¸°ê°€ ìˆê³ , ë‚¨ë“¤ì´ í”¼í•˜ëŠ” ê¹Šì€ ì§ˆë¬¸ë“¤ì„ ë˜ì§ˆ ì¤„ ì•„ëŠ” ì‚¬ëŒì´ì—ìš”. ë‹¹ì‹ ì˜ í†µì°°ë ¥ì€ ë³µì¡í•œ ë¬¸ì œì˜ ë³¸ì§ˆì„ ê¿°ëš«ì–´ë´…ë‹ˆë‹¤.",
                shadow: "ê¹Šì´ íŒŒê³ ë“¤ë‹¤ ë³´ë‹ˆ ë•Œë¡œëŠ” ì–´ë‘ ì— ì••ë„ë  ë•Œê°€ ìˆìŠµë‹ˆë‹¤. ëª¨ë“  ê²ƒì„ ì˜ì‹¬í•˜ê³  ë¶„ì„í•˜ë‹¤ê°€ ë‹¨ìˆœí•œ ê¸°ì¨ì„ ë†“ì¹˜ê¸°ë„ í•´ìš”. ì‹¬ì—°ì„ ë“¤ì—¬ë‹¤ë³´ëŠ” ìëŠ” ì‹¬ì—°ë„ ìì‹ ì„ ë“¤ì—¬ë‹¤ë³¸ë‹¤ëŠ” ê²ƒì„ ê¸°ì–µí•˜ì„¸ìš”.",
                letter: "ê°€ì¥ ê¹Šì€ ì‹¬ì—°ê¹Œì§€ ë‚´ë ¤ê°ˆ ìš©ê¸°ë¥¼ ê°€ì§„ ë‹¹ì‹ ì€ íŠ¹ë³„í•œ ì‚¬ëŒì…ë‹ˆë‹¤.<br><br>ë‹¹ì‹ ì˜ ê¹Šì´ëŠ” ìš°ìš¸í•¨ì´ ì•„ë‹ˆë¼ <strong>ì§„ì‹¤ì„ í–¥í•œ ìš©ê¸°</strong>ì˜ˆìš”. ë‚¨ë“¤ì´ ì™¸ë©´í•˜ëŠ” ê²ƒë“¤ì„ ì§ì‹œí•˜ëŠ” ë‹¹ì‹ ì˜ ì‹œì„ ì€ ì„¸ìƒì„ ë” ì •ì§í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤.<br><br>í•˜ì§€ë§Œ ê°€ë”ì€ ìˆ˜ë©´ ìœ„ë¡œ ì˜¬ë¼ì™€ í–‡ë¹›ì„ ì¬ì–´ì£¼ì„¸ìš”. ê¹Šì´ë¥¼ ì•„ëŠ” ì‚¬ëŒë§Œì´ ë†’ì´ì˜ ê°€ì¹˜ë„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì–´ë‘ ì„ ì´í•´í•˜ëŠ” ë‹¹ì‹ ì´ê¸°ì— ë¹›ì„ ë” ì†Œì¤‘íˆ ì—¬ê¸¸ ìˆ˜ ìˆì–´ìš”.<br><br>ì‹¬ì—°ì€ ëì´ ì•„ë‹ˆë¼ ìƒˆë¡œìš´ ì‹œì‘ì ì…ë‹ˆë‹¤. ë‹¹ì‹ ì´ ê·¸ ê¹Šì€ ê³³ì—ì„œ ë°œê²¬í•œ ì§„ì‹¤ë“¤ì´ ì–¸ì  ê°€ ë§ì€ ì‚¬ëŒë“¤ì—ê²Œ ë“±ëŒ€ê°€ ë  ê±°ì˜ˆìš”."
            },
            coral: {
                title: "ì‹¬í•´ì˜ ì‚°í˜¸ì´ˆ",
                subtitle: "ìƒëª…ë ¥ìœ¼ë¡œ ê°€ë“í•œ ì˜í˜¼",
                light: "ë‹¹ì‹ ì€ ì–´ë–¤ í™˜ê²½ì—ì„œë„ ê½ƒì„ í”¼ìš°ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤. ë„ì „ì„ ì„±ì¥ì˜ ê¸°íšŒë¡œ ë°”ê¾¸ê³ , ì‹¤íŒ¨ì—ì„œë„ êµí›ˆì„ ì°¾ì•„ë‚´ëŠ” íšŒë³µë ¥ì´ ìˆì–´ìš”. ë‹¹ì‹ ì˜ ì—´ì •ì€ ì£¼ë³€ ì‚¬ëŒë“¤ì—ê²Œë„ ì‚´ì•„ê°ˆ ìš©ê¸°ë¥¼ ì „ì—¼ì‹œí‚µë‹ˆë‹¤.",
                shadow: "ë„ˆë¬´ ë§ì€ ê²ƒì„ ì´ë£¨ë ¤ë‹¤ ì§€ì¹  ë•Œê°€ ìˆìŠµë‹ˆë‹¤. ì‰¬ëŠ” ê²ƒì„ ì£„ì±…ê°ìœ¼ë¡œ ëŠë¼ê³ , ë©ˆì¶°ìˆìœ¼ë©´ ë¶ˆì•ˆí•´í•´ìš”. ì‚°í˜¸ì´ˆë„ ë•Œë¡œëŠ” ì¡°ë¥˜ì— ëª¸ì„ ë§¡ê¸°ê³  ì‰¬ì–´ê°„ë‹¤ëŠ” ê²ƒì„ ê¸°ì–µí•˜ì„¸ìš”.",
                letter: "ê¹Šì€ ë°”ë‹¤ì—ì„œë„ ìƒëª…ì„ í”¼ì›Œë‚´ëŠ” ë‹¹ì‹ ì€ í¬ë§ì˜ ì¦ê±°ì…ë‹ˆë‹¤.<br><br>ë‹¹ì‹ ì˜ ì„±ì¥ìš•êµ¬ëŠ” ìš•ì‹¬ì´ ì•„ë‹ˆë¼ <strong>ì‚¶ì„ í–¥í•œ ìˆœìˆ˜í•œ ì—´ì •</strong>ì´ì—ìš”. ë§¤ì¼ ì¡°ê¸ˆì”© ë‚˜ì•„ê°€ë ¤ëŠ” ë‹¹ì‹ ì˜ ë…¸ë ¥ì´ ì–¼ë§ˆë‚˜ ì•„ë¦„ë‹¤ìš´ì§€ ì•„ì‹œë‚˜ìš”?<br><br>í•˜ì§€ë§Œ ê¸°ì–µí•˜ì„¸ìš”. ì‚°í˜¸ì´ˆì˜ ì•„ë¦„ë‹¤ì›€ì€ ë¹ ë¥¸ ì„±ì¥ì´ ì•„ë‹ˆë¼ ê¾¸ì¤€í•œ ì¸ë‚´ì—ì„œ ë‚˜ì˜µë‹ˆë‹¤. ë•Œë¡œëŠ” ê·¸ ìë¦¬ì— ë¨¸ë¬¼ë©° ë¿Œë¦¬ë¥¼ ë‚´ë¦¬ëŠ” ê²ƒë„ ì„±ì¥ì˜ í•œ ë°©ë²•ì´ì—ìš”.<br><br>ë‹¹ì‹ ì´ ë§Œë“¤ì–´ê°€ëŠ” ì‘ì€ ë³€í™”ë“¤ì´ ëª¨ì—¬ ì–¸ì  ê°€ëŠ” ê±°ëŒ€í•œ ìƒíƒœê³„ê°€ ë  ê±°ì˜ˆìš”. ê·¸ ê³¼ì • ìì²´ë¥¼ ì¦ê¸°ë©° ê°€ì„¸ìš”."
            }
        };

        // í™”ë©´ ì „í™˜ í•¨ìˆ˜
        function switchScreen(hide, show) {
            hide.classList.add('hidden');
            show.classList.remove('hidden');
        }
        
        // ì§ˆë¬¸ í‘œì‹œ í•¨ìˆ˜
        function showQuestion() {
            const question = questions[currentQuestionIndex];
            progressFill.style.width = `${((currentQuestionIndex + 1) / questions.length) * 100}%`;
            depthIndicator.textContent = `ìˆ˜ì‹¬ ${question.depth}m`;
            questionText.innerHTML = question.text.replace(/\n/g, '<br>');
            
            optionsContainer.innerHTML = '';
            question.options.forEach(option => {
                const button = document.createElement('button');
                button.className = 'option-btn';
                button.innerHTML = option.text;
                button.onclick = () => handleAnswer(option.type);
                optionsContainer.appendChild(button);
            });
        }

        // ë‹µë³€ ì²˜ë¦¬ í•¨ìˆ˜
        function handleAnswer(type) {
            scores[type]++;
            currentQuestionIndex++;
            
            if (currentQuestionIndex < questions.length) {
                showQuestion();
            } else {
                showLoadingAndResult();
            }
        }

        // ë¡œë”© ë° ê²°ê³¼ í‘œì‹œ í•¨ìˆ˜
        function showLoadingAndResult() {
            switchScreen(questionScreen, loadingScreen);
            
            setTimeout(() => {
                calculateAndShowResult();
            }, 3000); // 3ì´ˆ í›„ ê²°ê³¼ í‘œì‹œ
        }
        
        // ê²°ê³¼ ê³„ì‚° ë° í‘œì‹œ í•¨ìˆ˜
        function calculateAndShowResult() {
            let resultType = Object.keys(scores).reduce((a, b) => scores[a] > scores[b] ? a : b);
            const resultData = results[resultType];
            
            resultTitle.innerHTML = resultData.title;
            resultSubtitle.innerHTML = resultData.subtitle;
            lightSide.innerHTML = resultData.light;
            shadowSide.innerHTML = resultData.shadow;
            letterContent.innerHTML = resultData.letter;
            
            switchScreen(loadingScreen, resultScreen);
        }

        // í…ŒìŠ¤íŠ¸ ì‹œì‘ í•¨ìˆ˜
        function startDive() {
            switchScreen(welcomeScreen, questionScreen);
            showQuestion();
        }

        // ë‹¤ì‹œ ì‹œì‘ í•¨ìˆ˜
        function restartDive() {
            currentQuestionIndex = 0;
            scores = { pearl: 0, current: 0, abyss: 0, coral: 0 };
            switchScreen(resultScreen, welcomeScreen);
        }
        
        // ê³µìœ í•˜ê¸° í•¨ìˆ˜
        async function shareResult() {
            const resultData = results[Object.keys(scores).reduce((a, b) => scores[a] > scores[b] ? a : b)];
            const shareData = {
                title: 'MIND DIVE ê²°ê³¼',
                text: `ë‚˜ì˜ ë§ˆìŒ ì† ì‹¬í•´ì—ëŠ” '${resultData.title}'ì´(ê°€) ì‚´ê³  ìˆì—ˆì–´ìš”! ë‹¹ì‹ ì˜ ë§ˆìŒë„ í™•ì¸í•´ë³´ì„¸ìš”.`,
                url: window.location.href
            };
            try {
                if (navigator.share) {
                    await navigator.share(shareData);
                } else {
                    alert("ì´ ë¸Œë¼ìš°ì €ì—ì„œëŠ” ê³µìœ í•˜ê¸° ê¸°ëŠ¥ì„ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
                }
            } catch (err) {
                console.error("ê³µìœ  ì‹¤íŒ¨:", err);
            }
        }

        // ë§í¬ ë³µì‚¬ í•¨ìˆ˜
        function copyLink() {
            navigator.clipboard.writeText(window.location.href).then(() => {
                alert('ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
            }).catch(err => {
                console.error('ë³µì‚¬ ì‹¤íŒ¨:', err);
                alert('ë§í¬ ë³µì‚¬ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
            });
        }
        
        // ì‹œì‘ ë²„íŠ¼ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
        startButton.addEventListener('click', startDive);

    </script>
</body>
</html>
